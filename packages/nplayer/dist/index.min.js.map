{"version":3,"file":"index.min.js","mappings":"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","sources":["webpack://NPlayer/webpack/universalModuleDefinition","webpack://NPlayer/./packages/nplayer/src/ts/components/checkbox/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/components/slider/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/components/popover/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/components/switch/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/components/tooltip/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/constants.ts","webpack://NPlayer/./packages/nplayer/src/ts/features/fullscreen.ts","webpack://NPlayer/./packages/nplayer/src/ts/features/i18n.ts","webpack://NPlayer/./packages/nplayer/src/ts/features/icons.ts","webpack://NPlayer/./packages/nplayer/src/ts/features/shortcut.ts","webpack://NPlayer/./packages/nplayer/src/ts/features/web-fullscreen.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/contextmenu/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/items/spacer.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/items/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/loading/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/toast/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/items/setting.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/items/play.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/items/volume.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/items/time.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/items/web-fullscreen.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/items/fullscreen.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/items/airplay.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/progress/thumbnail.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/control/progress/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/helper.ts","webpack://NPlayer/./packages/nplayer/src/ts/contextmenu-items/loop.ts","webpack://NPlayer/./packages/nplayer/src/ts/contextmenu-items/pip.ts","webpack://NPlayer/./packages/nplayer/src/ts/contextmenu-items/version.ts","webpack://NPlayer/./packages/nplayer/src/ts/setting-items/speed.ts","webpack://NPlayer/./packages/nplayer/src/ts/parts/poster/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/features/touch.ts","webpack://NPlayer/./packages/nplayer/src/ts/player.ts","webpack://NPlayer/./packages/nplayer/src/ts/options.ts","webpack://NPlayer/./packages/nplayer/src/ts/utils/component.ts","webpack://NPlayer/./packages/nplayer/src/ts/utils/env.ts","webpack://NPlayer/./packages/nplayer/src/ts/utils/dom.ts","webpack://NPlayer/./packages/nplayer/src/ts/utils/drag.ts","webpack://NPlayer/./packages/nplayer/src/ts/utils/rect.ts","webpack://NPlayer/./packages/nplayer/src/ts/utils/emitter.ts","webpack://NPlayer/./packages/nplayer/src/ts/utils/patch.ts","webpack://NPlayer/./packages/nplayer/src/ts/utils/index.ts","webpack://NPlayer/./packages/nplayer/src/ts/utils/is.ts","webpack://NPlayer/./packages/nplayer/src/scss/index.scss","webpack://NPlayer/./node_modules/css-loader/dist/runtime/api.js","webpack://NPlayer/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://NPlayer/./node_modules/css-loader/dist/runtime/noSourceMaps.js","webpack://NPlayer/./packages/nplayer/src/scss/index.scss?8615","webpack://NPlayer/webpack/bootstrap","webpack://NPlayer/webpack/runtime/compat get default export","webpack://NPlayer/webpack/runtime/define property getters","webpack://NPlayer/webpack/runtime/hasOwnProperty shorthand","webpack://NPlayer/webpack/runtime/make namespace object","webpack://NPlayer/webpack/runtime/jsonp chunk loading"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"NPlayer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NPlayer\"] = factory();\n\telse\n\t\troot[\"NPlayer\"] = factory();\n})(this, function() {\nreturn ","import {\n  addClass,\n  addDisposableListener, Component, containClass, toggleClass,\n} from 'src/ts/utils';\n\nexport interface CheckboxOptions {\n  html?: string;\n  checked?: boolean;\n  change?: (newValue: boolean) => void;\n}\n\nconst classActive = 'checkbox-active';\n\nexport class Checkbox extends Component {\n  constructor(container: HTMLElement, opts: CheckboxOptions) {\n    super(container, '.checkbox');\n    if (opts.html) this.el.innerHTML = opts.html;\n    if (opts.change) {\n      addDisposableListener(this, this.el, 'click', () => {\n        toggleClass(this.el, classActive);\n        opts.change!(containClass(this.el, classActive));\n      });\n    }\n\n    if (opts.checked) addClass(this.el, classActive);\n  }\n\n  update(v: boolean) {\n    toggleClass(this.el, classActive, v);\n  }\n}\n","import {\n  $, addDisposable, addDisposableListener, clamp, Component, Drag, Rect,\n} from 'src/ts/utils';\n\nexport interface SliderOption {\n  value?: number;\n  stops?: { value: number, html?: string }[];\n  change?: (value: number) => void;\n  step?: boolean;\n}\n\nexport class Slider extends Component {\n  private readonly trackEl: HTMLElement;\n\n  private readonly dotEl: HTMLElement;\n\n  private readonly step: boolean | undefined;\n\n  readonly rect: Rect;\n\n  constructor(container: HTMLElement, private opts: SliderOption) {\n    super(container, '.slider');\n\n    this.rect = new Rect(this.el);\n\n    this.trackEl = this.el.appendChild($('.slider_track')).appendChild($('.slider_track_inner'));\n    if (opts.stops) {\n      let stop;\n      opts.stops.forEach((s) => {\n        stop = $('.slider_stop', undefined, s.html ? `<span>${s.html}</span>` : '');\n        stop.style.left = `${s.value * 100}%`;\n        this.el.appendChild(stop);\n      });\n    }\n    this.dotEl = this.el.appendChild($('.slider_dot'));\n\n    addDisposable(this, new Drag(this.el, (ev: PointerEvent) => {\n      this.rect.update();\n      this.onDrag(ev);\n    }, this.onDrag));\n    addDisposableListener(this, this.el, 'touchstart', (ev: Event) => ev.preventDefault());\n\n    this.step = opts.stops && opts.step;\n\n    this.update(opts.value || 0, undefined, false);\n  }\n\n  private onDrag = (ev: PointerEvent) => {\n    const isHeightGtWidth = this.rect.isHeightGtWidth;\n    const x = isHeightGtWidth ? (ev.clientY - this.rect.y) : (ev.clientX - this.rect.x);\n    this.update(x / (isHeightGtWidth ? this.rect.height : this.rect.width), x);\n  }\n\n  update(value: number, x?: number, trigger = true): void {\n    if (this.step) {\n      let closed = Infinity;\n      let v = 0; let c;\n      this.opts.stops!.forEach((s) => {\n        c = Math.abs(value - s.value);\n        if (c < closed) {\n          closed = c;\n          v = s.value;\n        }\n      });\n      value = v;\n      x = null!;\n    }\n\n    const w = this.rect.isHeightGtWidth ? this.rect.height : this.rect.width;\n    x = x != null ? x : value * w;\n    this.trackEl.style.transform = `scaleX(${clamp(value)})`;\n    this.dotEl.style.transform = `translateX(${clamp(x, 0, w)}px)`;\n\n    if (trigger && this.opts.change) this.opts.change(value);\n  }\n}\n","import {\n  $, addClass, addDisposableListener, Component, getEventPath, removeClass,\n} from 'src/ts/utils';\n\nconst classActive = 'popover-active';\nconst classBottom = 'popover_panel-bottom';\nexport class Popover extends Component {\n  readonly panelEl: HTMLElement;\n\n  readonly maskEl: HTMLElement;\n\n  constructor(\n    container: HTMLElement,\n    private readonly onHide?: (ev?: MouseEvent) => void,\n    style?: Partial<CSSStyleDeclaration>,\n    left?: boolean,\n  ) {\n    super(container, '.popover');\n    this.maskEl = this.el.appendChild($('.popover_mask'));\n    this.panelEl = this.el.appendChild($('.popover_panel'));\n\n    if (style) this.applyPanelStyle(style);\n\n    if (left) addClass(this.panelEl, 'popover_panel-left');\n\n    addDisposableListener(this, this.maskEl, 'click', (ev: MouseEvent) => {\n      ev.stopPropagation();\n      if (getEventPath(ev).includes(this.panelEl)) return;\n      this.hide(ev);\n    });\n  }\n\n  resetPos() {\n    removeClass(this.panelEl, classBottom);\n  }\n\n  setBottom() {\n    addClass(this.panelEl, classBottom);\n  }\n\n  applyPanelStyle(style: Partial<CSSStyleDeclaration>): void {\n    Object.assign(this.panelEl.style, style);\n  }\n\n  show() {\n    addClass(this.el, classActive);\n  }\n\n  hide(ev?: MouseEvent) {\n    removeClass(this.el, classActive);\n    if (this.onHide) this.onHide(ev);\n  }\n}\n","import {\n  addDisposableListener, Component, containClass, toggleClass,\n} from 'src/ts/utils';\n\nconst activeClass = 'switch-active';\nexport class Switch extends Component {\n  constructor(container: HTMLElement, value?: boolean, change?: (v: boolean) => void) {\n    super(container, '.switch');\n    this.toggle(value || false);\n\n    if (change) {\n      addDisposableListener(this, this.el, 'click', () => {\n        this.toggle();\n        change(containClass(this.el, activeClass));\n      });\n    }\n  }\n\n  toggle(value?: boolean): void {\n    toggleClass(this.el, activeClass, value);\n  }\n}\n","import {\n  addClass, Component, hide, removeClass, show,\n} from 'src/ts/utils';\n\nconst classLeft = 'tooltip-left';\nconst classRight = 'tooltip-right';\nconst classBottom = 'tooltip-bottom';\n\nexport class Tooltip extends Component {\n  constructor(container: HTMLElement, html?: string) {\n    super(container, '.tooltip_content');\n    addClass(container, 'tooltip');\n    if (html) this.html = html;\n  }\n\n  get html(): string {\n    return this.el.innerHTML;\n  }\n\n  set html(v: string) {\n    this.el.innerHTML = v;\n  }\n\n  resetPos(): void {\n    removeClass(this.el, classLeft);\n    removeClass(this.el, classRight);\n    removeClass(this.el, classBottom);\n  }\n\n  setBottom(): void {\n    addClass(this.el, classBottom);\n  }\n\n  setLeft(): void {\n    addClass(this.el, classLeft);\n  }\n\n  setRight(): void {\n    addClass(this.el, classRight);\n  }\n\n  hide(): void {\n    hide(this.el);\n  }\n\n  show(): void {\n    show(this.el);\n  }\n}\n","export const CLASS_PREFIX = 'nplayer_';\n\nexport const CLASS_PLAYER = 'nplayer';\n\nexport const EVENT = {\n  ENTER_FULLSCREEN: 'EnterFullscreen',\n  EXIT_FULLSCREEN: 'ExitFullscreen',\n  WEB_ENTER_FULLSCREEN: 'WebEnterFullscreen',\n  WEB_EXIT_FULLSCREEN: 'WebExitFullscreen',\n  DURATION_CHANGE: 'DurationChange',\n  RATE_CHANGE: 'RateChange',\n  AFTER_INIT: 'AfterInit',\n  PLAY: 'Play',\n  PAUSE: 'Pause',\n  ENDED: 'Ended',\n  WAITING: 'Waiting',\n  STALLED: 'Stalled',\n  CANPLAY: 'Canplay',\n  LOADED_METADATA: 'LoadedMetadata',\n  ERROR: 'Error',\n  SEEKED: 'Seeked',\n  TIME_UPDATE: 'TimeUpdate',\n  VOLUME_CHANGE: 'VolumeChange',\n  PROGRESS: 'Progress',\n  ENTER_PIP: 'EnterPip',\n  EXIT_PIP: 'ExitPip',\n  LOADING_SHOW: 'LoadingShow',\n  LOADING_HIDE: 'LoadingHide',\n  MOUNTED: 'Mounted',\n  UPDATE_SIZE: 'UpdateSize',\n  BEFORE_DISPOSE: 'BeforeDispose',\n  UPDATE_OPTIONS: 'UpdateOptions',\n  OPEN_EDGE: 'OpenEdge',\n  CONTROL_SHOW: 'ControlShow',\n  CONTROL_HIDE: 'ControlHide',\n  CONTROL_ITEM_UPDATE: 'ControlItemUpdate',\n  BP_CHANGE: 'BpChange',\n} as const;\n","import { CLASS_PLAYER, EVENT } from '../constants';\nimport { Player } from '../player';\nimport type { Disposable } from '../types';\nimport {\n  addClass, addDisposable, addDisposableListener, dispose, isFunction, isIOS, removeClass,\n} from '../utils';\n\nconst CLASS_FULL = '-full';\n\nexport class Fullscreen implements Disposable {\n  private target!: HTMLElement;\n\n  private readonly prefix = this.getPrefix();\n\n  constructor(private player: Player) {\n    addDisposableListener(this, document, this.prefix === 'ms' ? 'MSFullscreenChange' : `${this.prefix}fullscreenchange` as any, () => {\n      let evt = '';\n      if (this.isActive) {\n        this.addClass();\n        evt = EVENT.ENTER_FULLSCREEN;\n      } else {\n        this.removeClass();\n        evt = EVENT.EXIT_FULLSCREEN;\n      }\n      this.player.emit(evt);\n      this.player.emit(EVENT.UPDATE_SIZE);\n    });\n\n    addDisposable(this, player.on(EVENT.UPDATE_OPTIONS, () => {\n      this.disableDblclick();\n    }));\n\n    this.setTarget();\n    if (this.isActive) this.addClass();\n\n    if (!player.opts.isTouch) {\n      this.enableDblclick();\n    }\n  }\n\n  private getPrefix(): string {\n    if (isFunction(document.exitFullscreen)) return '';\n\n    let prefix = '';\n    ['webkit', 'moz', 'ms'].forEach((p) => {\n      if (\n        isFunction((document as any)[`${p}ExitFullscreen`])\n        || isFunction((document as any)[`${p}CancelFullScreen`])\n      ) {\n        prefix = p;\n      }\n    });\n\n    return prefix;\n  }\n\n  get requestFullscreen(): Element['requestFullscreen'] {\n    return (\n      HTMLElement.prototype.requestFullscreen\n      || (HTMLElement.prototype as any).webkitRequestFullscreen\n      || (HTMLElement.prototype as any).mozRequestFullScreen\n      || (HTMLElement.prototype as any).msRequestFullscreen\n    );\n  }\n\n  get exitFullscreen(): Document['exitFullscreen'] {\n    return (\n      HTMLDocument.prototype.exitFullscreen\n      || (HTMLDocument.prototype as any).webkitExitFullscreen\n      || (HTMLDocument.prototype as any).cancelFullScreen\n      || (HTMLDocument.prototype as any).mozCancelFullScreen\n      || (HTMLDocument.prototype as any).msExitFullscreen\n    );\n  }\n\n  get fullscreenElement(): HTMLElement {\n    return (\n      document.fullscreenElement\n      || (document as any).mozFullScreenElement\n      || (document as any).msFullscreenElement\n      || (document as any).webkitFullscreenElement\n    );\n  }\n\n  get isActive(): boolean {\n    return this.fullscreenElement === this.target;\n  }\n\n  private addClass(): void {\n    addClass(this.player.el, CLASS_FULL, CLASS_PLAYER);\n  }\n\n  private removeClass(): void {\n    removeClass(this.player.el, CLASS_FULL, CLASS_PLAYER);\n  }\n\n  enableDblclick(): void {\n    this.player.video.addEventListener('dblclick', this.toggle);\n  }\n\n  disableDblclick(): void {\n    this.player.video.removeEventListener('dblclick', this.toggle);\n  }\n\n  setTarget(dom?: HTMLElement, video?: HTMLVideoElement): void {\n    this.target = (dom && isIOS ? video : dom) || (isIOS ? this.player.video : this.player.el);\n    if (this.isActive) this.enter();\n  }\n\n  enter(): void {\n    if (isIOS) {\n      (this.target as any).webkitEnterFullscreen();\n    } else {\n      this.requestFullscreen.call(this.target, { navigationUI: 'hide' });\n      this.player.emit(EVENT.UPDATE_SIZE);\n    }\n  }\n\n  exit(): boolean {\n    if (!this.isActive) return false;\n    if (isIOS) {\n      (this.target as any).webkitExitFullscreen();\n    } else {\n      this.exitFullscreen.call(document);\n      this.player.emit(EVENT.UPDATE_SIZE);\n    }\n    return true;\n  }\n\n  toggle = (): void => {\n    if (this.isActive) {\n      this.exit();\n    } else {\n      this.enter();\n    }\n  }\n\n  dispose(): void {\n    if (!this.player) return;\n    this.player.off(EVENT.ENTER_FULLSCREEN);\n    this.player.off(EVENT.EXIT_FULLSCREEN);\n    this.disableDblclick();\n    this.player = null!;\n    dispose(this);\n  }\n}\n","import { isBrowser } from '../utils';\n\nconst data: Record<string, Record<string, string>> = Object.create(null);\n\nexport const FULL_SCREEN = 'Fullscreen';\nexport const EXIT_FULL_SCREEN = 'Exit fullscreen';\nexport const WEB_FULL_SCREEN = 'Web fullscreen';\nexport const WEB_EXIT_FULL_SCREEN = 'Exit web fullscreen';\nexport const SETTINGS = 'Settings';\nexport const PLAY = 'Play';\nexport const PAUSE = 'Pause';\nexport const MUTE = 'Mute';\nexport const UNMUTE = 'Unmute';\nexport const NORMAL = 'Normal';\nexport const SPEED = 'Speed';\nexport const PIP = 'Picture in Picture';\nexport const LOOP = 'Loop';\nexport const VOLUME = 'Volume';\nexport const AIRPLAY = 'Airplay';\nexport const LIVE = 'Live';\n\nexport const I18n = {\n  defaultLang: '',\n  currentLang: '',\n  t(key: string, lang?: string): string {\n    return data[lang || I18n.currentLang || I18n.defaultLang]?.[key] || key;\n  },\n  add(lang: string, transData: Record<string, string>): void {\n    data[lang.toLowerCase()] = { ...data[lang.toLowerCase()], ...transData };\n    I18n.fallback();\n  },\n  fallback(): void {\n    Object.keys(data).forEach((k) => {\n      data[k.split('-')[0]] = data[k];\n    });\n  },\n  setCurrentLang(lang?: string): void {\n    this.currentLang = lang || navigator.language || (navigator as any).userLanguage;\n    if (this.currentLang) this.currentLang = this.currentLang.toLowerCase();\n  },\n  setDefaultLang(lang?: string): void {\n    this.defaultLang = (lang || '').toLowerCase();\n  },\n};\n\nI18n.add('zh-cn', {\n  [FULL_SCREEN]: '全屏',\n  [EXIT_FULL_SCREEN]: '取消全屏',\n  [WEB_FULL_SCREEN]: '网页全屏',\n  [WEB_EXIT_FULL_SCREEN]: '退出网页全屏',\n  [SETTINGS]: '设置',\n  [PLAY]: '播放',\n  [PAUSE]: '暂停',\n  [MUTE]: '静音',\n  [UNMUTE]: '取消静音',\n  [NORMAL]: '正常',\n  [SPEED]: '播放速度',\n  [PIP]: '画中画',\n  [LOOP]: '循环播放',\n  [VOLUME]: '音量',\n  [AIRPLAY]: '隔空播放',\n  [LIVE]: '直播',\n});\nif (isBrowser) I18n.setCurrentLang();\n","import { addClass, createSvg } from '../utils';\n\nconst play = 'M6 2.914v18.172L20.279 12 6 2.914z';\nconst pause = 'M14.333 20.133H19V3.8h-4.667M5 20.133h4.667V3.8H5v16.333z';\nconst volume = 'M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z';\nconst muted = 'M3,9H7L12,4V20L7,15H3V9M16.59,12L14,9.41L15.41,8L18,10.59L20.59,8L22,9.41L19.41,12L22,14.59L20.59,16L18,13.41L15.41,16L14,14.59L16.59,12Z';\nconst cog = 'M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z';\nconst webEnterFullscreen = 'M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z';\nconst webExitFullscreen = 'M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z';\nconst enterFullscreen = 'M3 3h6.429v2.571H5.57V9.43H3V3m11.571 0H21v6.429h-2.571V5.57H14.57V3m3.858 11.571H21V21h-6.429v-2.571h3.858V14.57m-9 3.858V21H3v-6.429h2.571v3.858H9.43z';\nconst exitFullscreen = 'M14.571 14.571H21v2.572h-3.857V21H14.57v-6.429M3 14.571h6.429V21H6.857v-3.857H3V14.57M6.857 3H9.43v6.429H3V6.857h3.857V3M21 6.857V9.43h-6.429V3h2.572v3.857H21z';\nconst airplay = 'M6 22h12l-6-6m9-13H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H3V5h18v12h-4v2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z';\n\nfunction createIcon(icon: string) {\n  return (cls?: string) => {\n    const svg = createSvg('icon', icon);\n    if (cls) addClass(svg, cls);\n    return svg;\n  };\n}\n\nconst Icon: {\n  // eslint-disable-next-line no-use-before-define\n  register: typeof registerIcon;\n} & {\n  [key: string]: <T extends Element>(cls?: string) => T;\n} = Object.create(null);\n\nfunction registerIcon(iconName: string, icon: (cls?: string) => any): void {\n  Icon[iconName] = icon;\n}\n\nObject.defineProperty(Icon, 'register', { value: registerIcon });\n\nregisterIcon('play', createIcon(play));\nregisterIcon('pause', createIcon(pause));\nregisterIcon('volume', createIcon(volume));\nregisterIcon('muted', createIcon(muted));\nregisterIcon('cog', createIcon(cog));\nregisterIcon('webEnterFullscreen', createIcon(webEnterFullscreen));\nregisterIcon('webExitFullscreen', createIcon(webExitFullscreen));\nregisterIcon('enterFullscreen', createIcon(enterFullscreen));\nregisterIcon('exitFullscreen', createIcon(exitFullscreen));\nregisterIcon('airplay', createIcon(airplay));\n\nexport { Icon };\n","import { Player } from '../player';\nimport type { Disposable } from '../types';\nimport { addDisposableListener, dispose, isNumber } from '../utils';\nimport { VOLUME, I18n } from './i18n';\n\nexport type ShortcutHandler = (player: Player) => void;\n\nconst editableTagNames = ['input', 'textarea', 'select'];\n\nexport class Shortcut implements Disposable {\n  private map: Record<string, ShortcutHandler>;\n\n  constructor(private player: Player, enable: boolean) {\n    this.map = Object.create(null);\n\n    const showVolume = (p: Player) => p.toast.show(`${I18n.t(VOLUME)} ${Math.round(p.volume * 100)}%`, 'left-bottom', 500);\n\n    this.register(27, (p) => {\n      if (!p.fullscreen.exit()) p.webFullscreen.exit();\n    });\n    this.register(32, (p) => p.toggle());\n    this.register(37, (p) => {\n      p.rewind();\n      p.toast.show(`- ${p.opts.seekStep}s`, 'left-bottom', 500);\n    });\n    this.register(38, (p) => {\n      p.incVolume();\n      showVolume(p);\n    });\n    this.register(39, (p) => {\n      p.forward();\n      p.toast.show(`+ ${p.opts.seekStep}s`, 'left-bottom', 500);\n    });\n    this.register(40, (p) => {\n      p.decVolume();\n      showVolume(p);\n    });\n\n    if (enable) this.enable();\n  }\n\n  private onKeyDown = (ev: KeyboardEvent) => {\n    if (ev.altKey || ev.ctrlKey || ev.metaKey || ev.shiftKey) return;\n    const focused = document.activeElement;\n\n    if (focused) {\n      const tag = focused.tagName.toLowerCase();\n      const editable = focused.getAttribute('contenteditable');\n      if (editableTagNames.indexOf(tag) > -1 || editable || editable === '') {\n        return;\n      }\n    }\n\n    const code = ev.keyCode ? ev.keyCode : ev.which;\n\n    if (!isNumber(code)) return;\n\n    let handled = false;\n    if (this.map[code]) {\n      this.map[code](this.player);\n      handled = true;\n      this.player.control.showTransient();\n    }\n\n    if (handled) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n  }\n\n  register(keyCode: number, handler: ShortcutHandler): void {\n    this.map[keyCode] = handler;\n  }\n\n  unregister(keyCode: number): boolean {\n    return delete this.map[keyCode];\n  }\n\n  dispose(): void {\n    if (!this.map) return;\n    dispose(this);\n    this.map = null!;\n  }\n\n  enable(): void {\n    this.disable();\n    addDisposableListener(this, this.player.el, 'keydown', this.onKeyDown);\n  }\n\n  disable(): void {\n    dispose(this);\n  }\n}\n","import { CLASS_PLAYER, EVENT } from '../constants';\nimport { Player } from '../player';\nimport type { Disposable } from '../types';\nimport { addClass, containClass, removeClass } from '../utils';\n\nconst classFull = '-web-full';\n\nexport class WebFullscreen implements Disposable {\n  private player: Player\n\n  constructor(player: Player) {\n    this.player = player;\n  }\n\n  get isActive(): boolean {\n    return containClass(this.player.el, classFull, CLASS_PLAYER);\n  }\n\n  enter(): void {\n    addClass(this.player.el, classFull, CLASS_PLAYER);\n    this.player.emit(EVENT.WEB_ENTER_FULLSCREEN);\n    this.player.emit(EVENT.UPDATE_SIZE);\n  }\n\n  exit(): boolean {\n    if (!this.isActive) return false;\n    removeClass(this.player.el, classFull, CLASS_PLAYER);\n    this.player.emit(EVENT.WEB_EXIT_FULLSCREEN);\n    this.player.emit(EVENT.UPDATE_SIZE);\n    return true;\n  }\n\n  toggle = (): void => {\n    if (this.isActive) {\n      this.exit();\n    } else {\n      this.enter();\n    }\n  }\n\n  dispose(): void {\n    if (!this.player) return;\n    this.player.off(EVENT.WEB_ENTER_FULLSCREEN);\n    this.player.off(EVENT.WEB_EXIT_FULLSCREEN);\n    this.player = null!;\n  }\n}\n","import { Player } from 'src/ts/player';\nimport {\n  $, addClass, show, hide, addDisposableListener, Rect, Component,\n} from 'src/ts/utils';\n\nexport interface ContextMenuItem {\n  id?: string;\n  html?: string;\n  disabled?: boolean;\n  invisible?: boolean;\n  checked?: boolean;\n  init?: (player: Player, item: ContextMenuItem) => void;\n  show?: (player: Player, item: ContextMenuItem) => void;\n  click?: (player: Player, item: ContextMenuItem) => void;\n}\n\nexport class ContextMenu extends Component {\n  private rect: Rect;\n\n  private showed = false;\n\n  constructor(\n    container: HTMLElement,\n    private player: Player,\n    private items: ContextMenuItem[],\n  ) {\n    super(container, '.contextmenu');\n    hide(this.el);\n\n    this.rect = new Rect(this.el, player);\n\n    this.items.forEach((item) => item.init && item.init(player, item));\n\n    addDisposableListener(this, player.el, 'contextmenu', (ev: MouseEvent) => {\n      this.hide();\n      if (!player.opts.contextMenuToggle || !this.showed) {\n        ev.preventDefault();\n        ev.stopPropagation();\n\n        if (this.renderItems()) {\n          show(this.el);\n          this.rect.update();\n          this.player.rect.update();\n\n          const { width, height } = this.rect;\n          const { x, y } = this.player.rect;\n          const { innerWidth, innerHeight } = window;\n          const { clientX, clientY } = ev;\n\n          let left = clientX - x;\n          let top = clientY - y;\n\n          if (clientX + width > innerWidth) left = innerWidth - width;\n          if (clientY + height > innerHeight) top = innerHeight - height;\n\n          this.applyStyle({ left: `${left}px`, top: `${top}px` });\n        }\n      }\n\n      this.showed = !this.showed;\n    });\n\n    addDisposableListener(this, document, 'click', () => {\n      this.showed = false;\n      this.hide();\n    });\n  }\n\n  private getDomNodes(): HTMLElement[] {\n    return this.items.filter((x) => x && !x.invisible).map((item) => {\n      const el = $('.contextmenu_item');\n      if (item.show) item.show(this.player, item);\n      if (item.html) el.innerHTML = item.html;\n      if (item.disabled) addClass(el, 'contextmenu_item-disabled');\n      if (item.checked) addClass(el, 'contextmenu_item-checked');\n      if (item.click) {\n        el.addEventListener('click', () => (item as any).click(this.player, item), false);\n      }\n      return el;\n    });\n  }\n\n  private renderItems(): boolean {\n    const items = this.getDomNodes();\n    if (!items.length) return false;\n    this.el.textContent = '';\n    const frag = document.createDocumentFragment();\n    items.forEach((item) => frag.appendChild(item));\n    this.el.appendChild(frag);\n    return true;\n  }\n\n  get isActive(): boolean {\n    return this.el.style.display !== 'none';\n  }\n\n  hide = () => {\n    hide(this.el);\n  }\n}\n","import { $ } from 'src/ts/utils';\nimport type { ControlItem } from '..';\n\nexport const spacerControlItem = (): ControlItem => ({\n  id: 'spacer',\n  el: $('.spacer'),\n});\n","import { Player } from 'src/ts/player';\nimport {\n  $, addClass, addDisposable, Component, isString, patch,\n} from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\nimport type { Disposable } from 'src/ts/types';\nimport { EVENT } from 'src/ts/constants';\nimport type { ControlItem } from '..';\nimport { spacerControlItem } from './spacer';\n\nexport class ControlBar extends Component {\n  private prevItems: ControlItem[] = [];\n\n  private spacer = spacerControlItem();\n\n  constructor(container: HTMLElement, private player: Player, items?: (ControlItem | string)[], private position = 0) {\n    super(container, '.control_bar');\n    if (position === 2) addClass(this.el, 'control_bar-top');\n    if (items) {\n      const frag = document.createDocumentFragment();\n      items.forEach((item) => {\n        item = this.initControlItem(item) as ControlItem;\n        if (item) {\n          frag.appendChild(item.el);\n          this.prevItems.push(item);\n        }\n      });\n      this.updateTooltipPos();\n      this.el.appendChild(frag);\n    }\n  }\n\n  private getItem(item: ControlItem | string): ControlItem | void {\n    if (item === 'spacer') return this.spacer;\n    if (isString(item)) item = this.player.getControlItem(item) as ControlItem;\n    if (!item || (item.isSupport && !item.isSupport(this.player))) return;\n    return item;\n  }\n\n  private initControlItem = (item: ControlItem | string): ControlItem | void => {\n    item = this.getItem(item) as ControlItem;\n    if (item) {\n      if (!item.el) item.el = $();\n      if (item.mounted) {\n        if (item.tooltip) {\n          item.tooltip.resetPos();\n          if (this.position === 2) item.tooltip.setBottom();\n        }\n        if (item.update) item.update(this.position);\n        return;\n      }\n\n      let tooltip: Tooltip | undefined;\n      if (item.tip) tooltip = new Tooltip(item.el, item.tip);\n      if (item.init) {\n        if (item.init.length > 2 && !tooltip) tooltip = new Tooltip(item.el);\n        item.init(this.player, this.position, tooltip as Tooltip);\n      }\n      if (item.dispose) addDisposable(this, item as Disposable);\n      if (!tooltip) tooltip = item.tooltip;\n      if (tooltip) {\n        tooltip.resetPos();\n        if (this.position === 2) tooltip.setBottom();\n      }\n\n      item.mounted = true;\n      return item;\n    }\n  }\n\n  private onHideControlItem = (item: ControlItem) => {\n    if (item.hide) item.hide();\n  }\n\n  updateTooltipPos() {\n    const last = this.prevItems.length - 1;\n    this.prevItems.forEach((item, i) => {\n      if (item.tooltip) {\n        item.tooltip.resetPos();\n        if (this.position === 2) item.tooltip.setBottom();\n        if (i === 0) {\n          item.tooltip.setLeft();\n        } else if (i === last) {\n          item.tooltip.setRight();\n        }\n      }\n    });\n  }\n\n  getItems(): ControlItem[] {\n    return this.prevItems;\n  }\n\n  setItems(items?: ControlItem[]): void {\n    if (items) {\n      this.prevItems = items;\n    }\n  }\n\n  update(nextItems: (string | ControlItem)[]) {\n    if (nextItems) {\n      const items: ControlItem[] = [];\n      nextItems.forEach((item) => {\n        item = this.getItem(item) as ControlItem;\n        if (item) items.push(item);\n      });\n\n      patch(this.prevItems, items, this.el, {\n        mount: this.initControlItem,\n        unmount: this.onHideControlItem,\n      });\n      this.prevItems = items;\n      this.updateTooltipPos();\n      this.player.emit(EVENT.CONTROL_ITEM_UPDATE);\n    }\n  }\n}\n","import { EVENT } from 'src/ts/constants';\nimport { Player } from 'src/ts/player';\nimport type { Disposable } from 'src/ts/types';\nimport { Tooltip } from 'src/ts/components/tooltip';\nimport {\n  $, addClass, addDisposable, addDisposableListener, Component, containClass, removeClass,\n} from 'src/ts/utils';\nimport { ControlBar } from './items';\n\nconst classHide = 'control-hide';\nconst classBgHide = 'control_bg-hide';\nconst classBarHide = 'control_bar-hide';\n\nexport interface ControlItem extends Partial<Disposable> {\n  el: HTMLElement;\n  id?: any;\n  tip?: string;\n  tooltip?: Tooltip;\n  mounted?: boolean;\n  init?: (player: Player, position: number, tooltip: Tooltip) => void;\n  update?: (position: number) => void;\n  hide?: () => void;\n  isSupport?: (player: Player) => boolean;\n  [key: string]: any;\n}\n\ntype BpControl = { bp: number, controls: (ControlItem| string)[][] }\n\nexport class Control extends Component {\n  private readonly bgElement: HTMLElement;\n\n  private showTimer: any;\n\n  private delayHidTime = 3000;\n\n  private latch = 0;\n\n  private controlBars: ControlBar[] = [];\n\n  private controls: BpControl[]\n\n  currentBp: number | undefined;\n\n  constructor(container: HTMLElement, private player: Player) {\n    super(container, '.control');\n    this.bgElement = container.appendChild($('.control_bg'));\n\n    this.controlBars[1] = addDisposable(this, new ControlBar(this.el, player, player.opts.controls[1], 1));\n    this.controlBars[0] = addDisposable(this, new ControlBar(this.el, player, player.opts.controls[0], 0));\n    this.controlBars[2] = addDisposable(this, new ControlBar(container, player, player.opts.controls[2], 2));\n\n    const bpControls = player.opts.bpControls;\n    this.controls = Object.keys(bpControls)\n      .map((bp) => ({ bp: Number(bp), controls: bpControls[bp] }))\n      .sort((a, b) => a.bp - b.bp);\n\n    if (this.controls.length) {\n      addDisposable(this, player.on(EVENT.UPDATE_SIZE, this.emitAndUpdateBp));\n      addDisposable(this, player.on(EVENT.MOUNTED, this.emitAndUpdateBp));\n    }\n\n    addDisposable(this, player.on(EVENT.PAUSE, () => {\n      if (!player.opts.isTouch) this.show();\n    }));\n    addDisposable(this, player.on(EVENT.PLAY, () => {\n      if (!player.opts.isTouch) this.showTransient();\n    }));\n    addDisposableListener(this, player.el, 'mousemove', this.showTransient);\n    addDisposableListener(this, player.el, 'mouseleave', this.tryHide);\n    this.showTransient();\n  }\n\n  get isActive(): boolean {\n    return !containClass(this.el, classHide);\n  }\n\n  private filterItems(items: ControlItem[], toFilter: ControlItem[]): ControlItem[] | undefined {\n    if (items.length && toFilter.length) {\n      const map = new Map();\n      items.forEach((i) => map.set(i, true));\n      return toFilter.filter((item) => !map.get(item));\n    }\n  }\n\n  private emitAndUpdateBp = (): BpControl | undefined => {\n    const width = this.player.rect.width;\n    const matched = this.controls.find((c) => width <= c.bp);\n    // eslint-disable-next-line eqeqeq\n    if (this.currentBp != matched?.bp) {\n      this.currentBp = matched?.bp;\n      const controls = matched?.controls || this.player.opts.controls;\n      this.updateItems(controls[0], 0);\n      this.updateItems(controls[1], 1);\n      this.updateItems(controls[2], 2);\n      this.player.emit(EVENT.BP_CHANGE, this.currentBp);\n    }\n    return matched;\n  }\n\n  updateItems(items: Parameters<ControlBar['update']>[0], index = 0): void {\n    const curBar = this.controlBars[index];\n    if (!curBar) return;\n    curBar.update(items || []);\n    const barItems = curBar.getItems();\n    this.controlBars.forEach((bar, i) => {\n      if (i === index) return;\n      bar.setItems(this.filterItems(barItems, bar.getItems()));\n      bar.updateTooltipPos();\n    });\n  }\n\n  require(): void {\n    this.latch++;\n  }\n\n  release(): void {\n    if (this.latch) {\n      this.latch--;\n      this.tryHide();\n    }\n  }\n\n  show = (): void => {\n    removeClass(this.el, classHide);\n    removeClass(this.bgElement, classBgHide);\n    removeClass(this.controlBars[2].el, classBarHide);\n    this.player.el.style.cursor = '';\n    this.player.emit(EVENT.CONTROL_SHOW);\n  }\n\n  hide = (): void => {\n    addClass(this.el, classHide);\n    addClass(this.bgElement, classBgHide);\n    addClass(this.controlBars[2].el, classBarHide);\n    this.player.el.style.cursor = 'none';\n    this.player.emit(EVENT.CONTROL_HIDE);\n  }\n\n  showTransient = (): void => {\n    this.show();\n    clearTimeout(this.showTimer);\n    this.showTimer = setTimeout(this.tryHide, this.delayHidTime);\n  }\n\n  tryHide = (): void => {\n    if (this.player.video.played.length && !this.player.paused && !this.latch) {\n      this.hide();\n    }\n  }\n}\n","import { CLASS_PLAYER, EVENT } from 'src/ts/constants';\nimport { Player } from 'src/ts/player';\nimport {\n  addClass, addDisposable, Component, containClass, removeClass, repeatStr,\n} from 'src/ts/utils';\n\nconst classLoading = '-loading';\nexport class Loading extends Component {\n  private showTimer: any;\n\n  private startWaitingTime = 0;\n\n  constructor(container: HTMLElement, private player: Player) {\n    super(container, player.opts.loadingEl || '.loading', undefined, player.opts.loadingEl ? undefined : repeatStr('<i></i>', 12));\n\n    addDisposable(this, player.on(EVENT.CANPLAY, this.hide));\n    addDisposable(this, player.on(EVENT.WAITING, () => {\n      if (!this.player.currentTime) return;\n      this.tryShow();\n    }));\n    addDisposable(this, player.on(EVENT.STALLED, () => {\n      const curTime = this.player.currentTime;\n      if (!curTime) return;\n\n      let show = true;\n      this.player.eachBuffer((start, end) => {\n        if (start <= curTime && end > curTime) {\n          show = false;\n          return true;\n        }\n      });\n\n      if (show) this.tryShow();\n    }));\n  }\n\n  get isActive(): boolean {\n    return containClass(this.player.el, classLoading, CLASS_PLAYER);\n  }\n\n  private _checkCanplay = (): void => {\n    if (this.startWaitingTime !== this.player.currentTime) {\n      this.hide();\n      clearTimeout(this.showTimer);\n      this.player.off(EVENT.TIME_UPDATE, this._checkCanplay);\n    }\n  };\n\n  private checkCanplay(): void {\n    this.startWaitingTime = this.player.currentTime;\n    this.player.off(EVENT.TIME_UPDATE, this._checkCanplay);\n    this.player.on(EVENT.TIME_UPDATE, this._checkCanplay);\n  }\n\n  private tryShow(): void {\n    this.checkCanplay();\n    clearTimeout(this.showTimer);\n    this.showTimer = setTimeout(this.show, 100);\n  }\n\n  show = (): void => {\n    addClass(this.player.el, classLoading, CLASS_PLAYER);\n    this.player.emit(EVENT.LOADING_SHOW);\n  }\n\n  hide = () => {\n    removeClass(this.player.el, classLoading, CLASS_PLAYER);\n    this.player.emit(EVENT.LOADING_HIDE);\n  }\n}\n","import type { Disposable } from 'src/ts/types';\nimport { addClass, Component } from 'src/ts/utils';\n\ntype Position = 'center' | 'left-top' | 'right-top' | 'left-bottom' | 'right-bottom'\n\nexport class ToastItem extends Component {\n  timer!: any;\n\n  constructor(\n    container: HTMLElement,\n    html: string,\n    readonly position: Position = 'center',\n  ) {\n    super(container, '.toast');\n    addClass(this.el, `toast-${position}`);\n    this.el.innerHTML = html;\n  }\n\n  dispose(): void {\n    super.dispose();\n    clearTimeout(this.timer);\n  }\n}\n\nexport class Toast implements Disposable {\n  private toasts: ToastItem[] = [];\n\n  private container: HTMLElement;\n\n  constructor(container: HTMLElement) {\n    this.container = container;\n  }\n\n  show(html: string, position?: Position, timeout = 3000): ToastItem {\n    let toastItem = this.toasts.find((t) => t.position === position);\n\n    if (toastItem) {\n      clearTimeout(toastItem.timer);\n      toastItem.el.innerHTML = html;\n    } else {\n      toastItem = new ToastItem(this.container, html, position);\n      this.toasts.push(toastItem);\n    }\n\n    if (timeout > 0) {\n      toastItem.timer = setTimeout(this.close.bind(this, toastItem), timeout);\n    }\n\n    return toastItem;\n  }\n\n  close(toastItem?: ToastItem): void {\n    if (toastItem) {\n      this.toasts = this.toasts.filter((x) => x !== toastItem);\n      return toastItem.dispose();\n    }\n\n    this.toasts.forEach((item) => item.dispose());\n    this.toasts = [];\n  }\n\n  dispose(): void {\n    if (!this.toasts) return;\n    this.close();\n    this.toasts = null!;\n    this.container = null!;\n  }\n}\n","import { Popover } from 'src/ts/components/popover';\nimport { Switch } from 'src/ts/components/switch';\nimport { EVENT } from 'src/ts/constants';\nimport { I18n, SETTINGS } from 'src/ts/features/i18n';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport {\n  $, addClass, addDisposable, addDisposableListener, Component, getEventPath, measureElementSize, removeClass,\n} from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\nimport type { ControlItem } from '..';\n\nexport interface SettingItemOption<T = any> {\n  html?: string;\n  selectedHtml?: string;\n  value?: T;\n}\n\nexport interface SettingItem<T = any> {\n  id?: string;\n  html?: string;\n  type?: 'switch' | 'select';\n  checked?: boolean;\n  options?: SettingItemOption<T>[];\n  value?: T;\n  init?: (player: Player, item: SettingItem) => void;\n  change?: (value: T, player: Player, item: SettingItem) => void;\n  _switch?: Switch;\n  _selectedEl?: HTMLElement;\n  _optionEls?: HTMLElement[];\n  _optionEl?: HTMLElement;\n  [key: string]: any;\n}\n\nexport class SettingPanel extends Component {\n  constructor(container: HTMLElement) {\n    super(container, '.control_setting_panel');\n  }\n}\n\nconst classActive = 'control_setting-active';\nconst classOptionActive = 'control_setting_option-active';\n\nclass Setting extends Component implements ControlItem {\n  readonly id = 'settings';\n\n  private player!: Player;\n\n  private items!: SettingItem[];\n\n  private homeEl!: HTMLElement;\n\n  private popover!: Popover;\n\n  private currentOptionEl!: HTMLElement;\n\n  private probeEl!: HTMLElement;\n\n  tooltip!: Tooltip;\n\n  tip = I18n.t(SETTINGS);\n\n  init(player: Player, position: number, tooltip: Tooltip) {\n    this.player = player;\n    this.tooltip = tooltip;\n    addClass(this.el, 'control_setting');\n    this.items = player.__settingItems;\n    this.el.appendChild(Icon.cog());\n    this.popover = new Popover(this.el, this.hide, { willChange: 'width, height' });\n    this.homeEl = this.popover.panelEl.appendChild($());\n\n    this.probeEl = this.el.appendChild($());\n    const probeElStyle = this.probeEl.style;\n    probeElStyle.position = 'absolute';\n    probeElStyle.zIndex = '-9';\n    probeElStyle.width = '2px';\n    probeElStyle.height = '1px';\n    probeElStyle.opacity = '0';\n\n    this.setPos(position);\n\n    addDisposableListener(this, this.el, 'click', this.show);\n    addDisposable(this, player.on(EVENT.MOUNTED, () => this.showHomePage()));\n    this.items.forEach((item) => item.init && item.init(player, item));\n    this.renderHome();\n  }\n\n  update(position: number): void {\n    this.setPos(position);\n  }\n\n  private setPos(position: number): void {\n    this.popover.resetPos();\n    if (position === 2) this.popover.setBottom();\n  }\n\n  private renderHome(): void {\n    this.items.forEach((item) => {\n      const el = (!item._switch && !item._selectedEl && !item._optionEl) ? $('.control_setting_item') : null;\n\n      if (el) {\n        el.appendChild($(undefined, undefined, item.html));\n        if (item.type !== 'switch') el.appendChild($('.spacer'));\n      }\n\n      if (item.type === 'switch') {\n        if (!item._switch) item._switch = new Switch(el!, item.checked);\n      } else {\n        if (!item.options || !item.options.length) return;\n        if (!item._selectedEl) {\n          addClass(el!, 'control_setting_item-select');\n          item._selectedEl = el!.appendChild($());\n        }\n\n        const opt = item.options.find((x) => x.value === item.value);\n        if (!opt) return;\n        item._selectedEl.innerHTML = opt.selectedHtml || opt.html || '';\n      }\n\n      if (item._optionEl) {\n        item._optionEl.style.display = 'none';\n      }\n\n      if (el) {\n        el.addEventListener('click', this.onItemClick(item));\n        this.homeEl.appendChild(el);\n      }\n    });\n  }\n\n  private renderOptions(): void {\n    this.items.forEach((item) => {\n      if (item.type === 'switch') return;\n\n      if (!item._optionEl) {\n        item._optionEl = this.popover.panelEl.appendChild($());\n        const back = item._optionEl.appendChild($('.control_setting_item.control_setting_back'));\n        back.innerHTML = item.html || '';\n        back.addEventListener('click', this.back(item));\n      }\n\n      if (!item._optionEls && item.options) {\n        item._optionEls = item.options.map((opt) => {\n          const el = item._optionEl!.appendChild($('.control_setting_option', undefined, opt.html));\n          el.addEventListener('click', this.onOptionClick(item, opt));\n          return el;\n        });\n      }\n\n      if (item._optionEls) {\n        item._optionEls.forEach((el, i) => {\n          removeClass(el, classOptionActive);\n          if (item.value === item.options![i].value) {\n            addClass(el, classOptionActive);\n          }\n        });\n      }\n\n      item._optionEl.style.display = 'none';\n    });\n  }\n\n  private onItemClick = (item: SettingItem) => () => {\n    if (item.type === 'switch') {\n      item.checked = !item.checked;\n      item._switch!.toggle(item.checked);\n      if (item.change) item.change(item.checked, this.player, item);\n    } else {\n      this.renderOptions();\n      this.showOptionPage(item._optionEl as HTMLElement);\n    }\n  }\n\n  private onOptionClick = (item: SettingItem, option: SettingItemOption) => () => {\n    if (item.value !== option.value) {\n      item.value = option.value;\n      if (item.change) item.change(option.value, this.player, item);\n    }\n    this.renderHome();\n    this.showHomePage(item._optionEl as HTMLElement);\n  }\n\n  private back = (item: SettingItem) => () => {\n    this.showHomePage(item._optionEl as HTMLElement);\n  }\n\n  private showOptionPage(opt: HTMLElement): void {\n    this.homeEl.style.display = 'none';\n    opt.style.display = '';\n\n    const { width, height } = measureElementSize(opt);\n\n    const { width: w, height: h } = this.probeEl.getBoundingClientRect();\n    const hGtw = h > w;\n\n    this.popover.applyPanelStyle({\n      width: `${hGtw ? height : width}px`,\n      height: `${hGtw ? width : height}px`,\n    });\n\n    this.currentOptionEl = opt;\n  }\n\n  private showHomePage(opt?: HTMLElement): void {\n    if (opt) opt.style.display = 'none';\n\n    this.homeEl.style.display = '';\n\n    const { width, height } = measureElementSize(this.homeEl);\n\n    const { width: w, height: h } = this.probeEl.getBoundingClientRect();\n    const hGtw = h > w;\n\n    this.popover.applyPanelStyle({\n      width: `${hGtw ? height : width}px`,\n      height: `${hGtw ? width : height}px`,\n    });\n  }\n\n  show = (ev?: MouseEvent) => {\n    if (ev && getEventPath(ev).includes(this.popover.el)) return;\n    this.tooltip.hide();\n    this.renderHome();\n    this.popover.show();\n    this.homeEl.style.display = '';\n    addClass(this.el, classActive);\n  }\n\n  hide = (ev?: MouseEvent) => {\n    if (ev) ev.stopPropagation();\n\n    this.tooltip.show();\n    removeClass(this.el, classActive);\n\n    if (this.currentOptionEl) {\n      setTimeout(() => this.showHomePage(this.currentOptionEl), 200);\n    }\n  }\n}\n\nexport const settingControlItem = () => new Setting();\n","import {\n  addDisposable, addDisposableListener, Component, hide, show,\n} from 'src/ts/utils';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport { EVENT } from 'src/ts/constants';\nimport { I18n, PAUSE, PLAY } from 'src/ts/features/i18n';\nimport { Tooltip } from 'src/ts/components/tooltip';\nimport type { ControlItem } from '..';\n\nclass Play extends Component implements ControlItem {\n  readonly id = 'play';\n\n  private playIcon!: HTMLElement;\n\n  private pauseIcon!: HTMLElement;\n\n  tooltip!: Tooltip;\n\n  init(player: Player, _: any, tooltip: Tooltip) {\n    this.tooltip = tooltip;\n    this.playIcon = this.el.appendChild(Icon.play());\n    this.pauseIcon = this.el.appendChild(Icon.pause());\n\n    if (player.paused) {\n      this.onPause();\n    } else {\n      this.onPlay();\n    }\n    addDisposable(this, player.on(EVENT.PLAY, this.onPlay));\n    addDisposable(this, player.on(EVENT.PAUSE, this.onPause));\n    addDisposableListener(this, this.el, 'click', player.toggle);\n  }\n\n  private onPlay = () => {\n    show(this.pauseIcon);\n    hide(this.playIcon);\n    this.tooltip.html = I18n.t(PAUSE);\n  }\n\n  private onPause = () => {\n    show(this.playIcon);\n    hide(this.pauseIcon);\n    this.tooltip.html = I18n.t(PLAY);\n  }\n}\n\nexport const playControlItem = () => new Play();\n","import { EVENT } from 'src/ts/constants';\nimport { I18n, MUTE, UNMUTE } from 'src/ts/features/i18n';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport {\n  $, addClass, addDisposable, addDisposableListener, clamp, Component, Drag, getEventPath, hide, isString, Rect, show,\n} from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\nimport type { ControlItem } from '..';\n\nclass Volume extends Component implements ControlItem {\n  readonly id = 'volume';\n\n  private player!: Player;\n\n  private volumeIcon!: HTMLElement;\n\n  private mutedIcon!: HTMLElement;\n\n  private bar!: HTMLElement;\n\n  private rect!: Rect;\n\n  private isVer!: boolean;\n\n  tooltip!: Tooltip;\n\n  init(player: Player, _: any, tooltip: Tooltip) {\n    this.player = player;\n    this.tooltip = tooltip;\n    this.isVer = player.opts.volumeVertical;\n\n    addClass(this.el, 'control_volume');\n    addClass(this.el, `control_volume-${this.isVer ? 'ver' : 'hor'}`);\n\n    if (this.isVer) tooltip.hide();\n\n    this.volumeIcon = this.el.appendChild(Icon.volume());\n    this.mutedIcon = this.el.appendChild(Icon.muted());\n\n    const bars = this.el.appendChild($('.control_volume_bars'));\n    const len = player.opts.volumeBarLength;\n    bars.style[this.isVer ? 'height' : 'width'] = isString(len) ? len : `${len}px`;\n\n    this.bar = bars.appendChild($('.control_volume_bar'));\n\n    this.rect = new Rect(bars, player);\n\n    addDisposable(this, player.on(EVENT.VOLUME_CHANGE, this.onVolumeChange));\n    addDisposable(this, new Drag(bars, this.onDragStart, this.onDragging));\n    addDisposableListener(this, this.el, 'click', (ev:MouseEvent) => {\n      if (getEventPath(ev).includes(bars)) return;\n      player.toggleVolume();\n    });\n    if (player.opts.isTouch) {\n      addDisposableListener(this, bars, 'touchstart', (ev: Event) => ev.preventDefault());\n    }\n\n    this.onVolumeChange();\n  }\n\n  private onDragStart = (ev: PointerEvent) => {\n    this.onDragging(ev);\n  }\n\n  private onDragging = (ev: PointerEvent) => {\n    this.rect.update();\n    this.player.volume = clamp(\n      (this.isVer ? this.rect.height - ev.clientY + this.rect.y : ev.clientX - this.rect.x)\n      / (this.isVer ? this.rect.height : this.rect.width),\n    );\n  }\n\n  private onVolumeChange = () => {\n    if (this.player.muted) {\n      this.mute();\n    } else {\n      this.unmute();\n    }\n    this.bar.style.transform = `scale${this.isVer ? 'Y' : 'X'}(${this.player.volume})`;\n  };\n\n  mute(): void {\n    show(this.mutedIcon);\n    hide(this.volumeIcon);\n    this.tooltip.html = I18n.t(UNMUTE);\n  }\n\n  unmute(): void {\n    show(this.volumeIcon);\n    hide(this.mutedIcon);\n    this.tooltip.html = I18n.t(MUTE);\n  }\n}\n\nexport const volumeControlItem = () => new Volume();\n","import { EVENT } from 'src/ts/constants';\nimport { I18n, LIVE } from 'src/ts/features';\nimport { Player } from 'src/ts/player';\nimport {\n  $, addClass, addDisposable, Component, formatTime,\n} from 'src/ts/utils';\nimport type { ControlItem } from '..';\n\nclass Time extends Component implements ControlItem {\n  readonly id = 'time';\n\n  private playedEl!: HTMLElement;\n\n  private totalEl!: HTMLElement;\n\n  init(player: Player) {\n    addClass(this.el, 'control_time');\n\n    if (player.opts.live) {\n      addClass(this.el, 'control_time-live');\n      this.el.textContent = I18n.t(LIVE);\n    } else {\n      this.playedEl = this.el.appendChild($('span'));\n      this.totalEl = this.el.appendChild($('span'));\n\n      this.played = player.currentTime;\n      this.total = player.duration;\n\n      addDisposable(this, player.on(EVENT.TIME_UPDATE, () => {\n        this.played = player.currentTime;\n      }));\n      addDisposable(this, player.on(EVENT.DURATION_CHANGE, () => {\n        this.total = player.duration;\n      }));\n    }\n  }\n\n  private set played(v: number) {\n    this.playedEl.textContent = formatTime(v);\n  }\n\n  private set total(v: number) {\n    this.totalEl.textContent = formatTime(v);\n  }\n}\n\nexport const timeControlItem = () => new Time();\n","import { EVENT } from 'src/ts/constants';\nimport { I18n, WEB_EXIT_FULL_SCREEN, WEB_FULL_SCREEN } from 'src/ts/features/i18n';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport {\n  addDisposable, addDisposableListener, Component, hide, show,\n} from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\nimport type { ControlItem } from '..';\n\nclass WebFullscreen extends Component implements ControlItem {\n  readonly id = 'web-fullscreen'\n\n  private exitIcon!: HTMLElement;\n\n  private enterIcon!: HTMLElement;\n\n  tooltip!: Tooltip;\n\n  init(player: Player, _: any, tooltip: Tooltip) {\n    this.tooltip = tooltip;\n    this.enterIcon = this.el.appendChild(Icon.webEnterFullscreen());\n    this.exitIcon = this.el.appendChild(Icon.webExitFullscreen());\n    if (player.webFullscreen.isActive) {\n      this.enter();\n    } else {\n      this.exit();\n    }\n    addDisposable(this, player.on(EVENT.WEB_ENTER_FULLSCREEN, this.enter));\n    addDisposable(this, player.on(EVENT.WEB_EXIT_FULLSCREEN, this.exit));\n    addDisposableListener(this, this.el, 'click', player.webFullscreen.toggle);\n  }\n\n  private enter = (): void => {\n    show(this.exitIcon);\n    hide(this.enterIcon);\n    this.tooltip.html = I18n.t(WEB_EXIT_FULL_SCREEN);\n  }\n\n  private exit = (): void => {\n    hide(this.exitIcon);\n    show(this.enterIcon);\n    this.tooltip.html = I18n.t(WEB_FULL_SCREEN);\n  }\n}\n\nexport const webFullscreenControlItem = () => new WebFullscreen();\n","import { EVENT } from 'src/ts/constants';\nimport { EXIT_FULL_SCREEN, FULL_SCREEN, I18n } from 'src/ts/features/i18n';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport {\n  hide, Component, addDisposableListener, addDisposable, show,\n} from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\nimport type { ControlItem } from '..';\n\nclass Fullscreen extends Component implements ControlItem {\n  readonly id = 'fullscreen'\n\n  private exitIcon!: HTMLElement;\n\n  private enterIcon!: HTMLElement;\n\n  tooltip!: Tooltip;\n\n  init(player: Player, _: any, tooltip: Tooltip) {\n    this.tooltip = tooltip;\n    this.exitIcon = this.el.appendChild(Icon.exitFullscreen());\n    this.enterIcon = this.el.appendChild(Icon.enterFullscreen());\n    if (player.fullscreen.isActive) {\n      this.enter();\n    } else {\n      this.exit();\n    }\n\n    addDisposable(this, player.on(EVENT.ENTER_FULLSCREEN, this.enter));\n    addDisposable(this, player.on(EVENT.EXIT_FULLSCREEN, this.exit));\n    addDisposableListener(this, this.el, 'click', player.fullscreen.toggle);\n  }\n\n  private enter = (): void => {\n    show(this.exitIcon);\n    hide(this.enterIcon);\n    this.tooltip.html = I18n.t(EXIT_FULL_SCREEN);\n  }\n\n  private exit = (): void => {\n    hide(this.exitIcon);\n    show(this.enterIcon);\n    this.tooltip.html = I18n.t(FULL_SCREEN);\n  }\n}\n\nexport const fullscreenControlItem = () => new Fullscreen();\n","import { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport {\n  hide, Component, addDisposableListener, show,\n} from 'src/ts/utils';\nimport { AIRPLAY, I18n } from 'src/ts/features';\nimport type { ControlItem } from '..';\n\nclass Airplay extends Component implements ControlItem {\n  readonly id = 'airplay'\n\n  tip = I18n.t(AIRPLAY);\n\n  init(player: Player) {\n    if (!this.isSupport()) {\n      hide(this.el);\n      return;\n    }\n\n    this.el.appendChild(Icon.airplay());\n\n    addDisposableListener(this, player.video, 'webkitplaybacktargetavailabilitychanged' as any, (ev) => {\n      if (ev.availability === 'available') {\n        show(this.el);\n      } else {\n        hide(this.el);\n      }\n    });\n    addDisposableListener(this, this.el, 'click', () => {\n      const video = player.video as any;\n      if (video && video.webkitShowPlaybackTargetPicker) {\n        video.webkitShowPlaybackTargetPicker();\n      }\n    });\n  }\n\n  isSupport(): boolean {\n    return !!(window as any).WebKitPlaybackTargetAvailabilityEvent;\n  }\n}\n\nexport const airplayControlItem = () => new Airplay();\n","import {\n  $, addDisposable, clamp, Component, formatTime, Rect,\n} from 'src/ts/utils';\n\nexport interface ThumbnailOptions {\n  startSecond?: number;\n  gapSecond?: number;\n  row?: number;\n  col?: number;\n  width?: number;\n  height?: number;\n  images?: string[];\n}\n\nexport interface ThumbImg {\n  url: string;\n  x: number;\n  y: number;\n}\n\nexport class Thumbnail extends Component {\n  private opts: Required<ThumbnailOptions> = {\n    startSecond: 0,\n    gapSecond: 10,\n    col: 5,\n    row: 5,\n    width: 160,\n    height: 90,\n    images: [],\n  };\n\n  private imgEl?: HTMLElement;\n\n  private timeEl: HTMLElement;\n\n  private thumbImgPrePic?: number;\n\n  private ssGapRatio?: number;\n\n  private rect: Rect;\n\n  constructor(container: HTMLElement, opts: ThumbnailOptions) {\n    super(container, '.thumb');\n\n    this.updateOptions(opts);\n\n    this.timeEl = this.el.appendChild($('.thumb_time'));\n    this.timeEl.textContent = '0:00';\n\n    this.rect = addDisposable(this, new Rect(this.el));\n  }\n\n  private getCurrentThumb(seconds: number): ThumbImg | void {\n    const i = Math.max(seconds / this.opts.gapSecond - this.ssGapRatio!, 0) | 0;\n    const url = this.opts.images[(i / this.thumbImgPrePic!) | 0];\n\n    if (!url) return;\n\n    const x = (i % this.opts.col) * this.opts.width;\n    const y = ~~((i % this.thumbImgPrePic!) / this.opts.col) * this.opts.height;\n\n    return { url, x, y };\n  }\n\n  updateOptions(opts: ThumbnailOptions): void {\n    Object.assign(this.opts, opts);\n\n    if (this.opts.images.length) {\n      if (!this.imgEl) {\n        this.imgEl = this.el.appendChild($('.thumb_img'));\n      }\n      this.imgEl.style.width = `${this.opts.width}px`;\n      this.imgEl.style.height = `${this.opts.height}px`;\n      this.thumbImgPrePic = this.opts.col * this.opts.row;\n      this.ssGapRatio = this.opts.startSecond / this.opts.gapSecond;\n    }\n  }\n\n  update(seconds: number, x: number, maxX: number): void {\n    this.timeEl.textContent = formatTime(seconds);\n\n    if (this.imgEl) {\n      const thumb = this.getCurrentThumb(seconds);\n      if (thumb) {\n        this.imgEl.style.backgroundImage = `url(${thumb.url})`;\n        this.imgEl.style.backgroundPosition = `-${thumb.x}px -${thumb.y}px`;\n      }\n    } else {\n      this.rect.update();\n    }\n\n    const half = this.rect.width / 2;\n\n    this.applyStyle({\n      left: `${clamp(x - half, 0, Math.max(0, maxX - 2 * half))}px`,\n    });\n  }\n}\n","import { EVENT } from 'src/ts/constants';\nimport { Player } from 'src/ts/player';\nimport {\n  $, addClass, addDisposable, addDisposableListener, clamp, Component, Drag, Rect, throttle,\n} from 'src/ts/utils';\nimport type { ControlItem } from '..';\nimport { Thumbnail } from './thumbnail';\n\nexport class Progress extends Component implements ControlItem {\n  readonly id = 'progress'\n\n  private playedBar!: HTMLElement;\n\n  private bufBar!: HTMLElement;\n\n  private bars!: HTMLElement;\n\n  private dot!: HTMLElement;\n\n  private rect!: Rect;\n\n  private thumbnail!: Thumbnail;\n\n  private player!: Player;\n\n  private dragging = false;\n\n  init(player: Player) {\n    this.player = player;\n\n    addClass(this.el, 'progress');\n\n    this.bars = this.el.appendChild($('.progress_bars'));\n    this.bufBar = this.bars.appendChild($('.progress_buf'));\n    this.playedBar = this.bars.appendChild($('.progress_played'));\n    this.dot = this.el.appendChild($('.progress_dot'));\n    this.dot.appendChild(player.opts.progressDot || $('.progress_dot_inner'));\n\n    this.rect = addDisposable(this, new Rect(this.bars, player));\n    this.thumbnail = addDisposable(this, new Thumbnail(this.el, player.opts.thumbnail));\n\n    addDisposable(this, new Drag(this.el, this.onDragStart, this.onDragging, this.onDragEnd));\n    addDisposable(this, player.on(EVENT.TIME_UPDATE, this.updatePlayedBar));\n    addDisposable(this, player.on(EVENT.PROGRESS, this.updateBufBar));\n    addDisposable(this, player.on(EVENT.UPDATE_OPTIONS, () => this.thumbnail.updateOptions(player.opts.thumbnail)));\n    addDisposable(this, player.on(EVENT.UPDATE_SIZE, () => {\n      if (!player.playing) this.resetPlayedBar();\n    }));\n    addDisposable(this, player.on(EVENT.CONTROL_ITEM_UPDATE, () => {\n      this.rect.update();\n      this.resetPlayedBar();\n    }));\n    addDisposableListener(this, this.el, 'mousemove', throttle((ev: MouseEvent) => this.updateThumbnail(ev)), true);\n\n    if (player.opts.isTouch) {\n      addDisposableListener(this, this.el, 'touchstart', (ev: Event) => ev.preventDefault());\n    }\n  }\n\n  private resetPlayedBar() {\n    this.setPlayedBarLength(this.player.currentTime / this.player.duration);\n  }\n\n  private setPlayedBarLength(percentage: number): void {\n    this.playedBar.style.transform = `scaleX(${clamp(percentage)})`;\n    const w = (this.rect.isHeightGtWidth ? this.rect.height : this.rect.width);\n    this.dot.style.transform = `translate(${clamp(percentage * w, 0, w)}px, -50%)`;\n  }\n\n  private setBufBarLength(percentage: number): void {\n    this.bufBar.style.transform = `scaleX(${clamp(percentage)})`;\n  }\n\n  private onDragStart = (ev: PointerEvent) => {\n    this.dragging = true;\n    this.rect.update();\n    this.onDragging(ev);\n  }\n\n  private onDragging = (ev: PointerEvent) => {\n    const isHeightGtWidth = this.rect.isHeightGtWidth;\n    const x = isHeightGtWidth ? (ev.clientY - this.rect.y) : (ev.clientX - this.rect.x);\n    this.setPlayedBarLength(x / (isHeightGtWidth ? this.rect.height : this.rect.width));\n    this.updateThumbnail(ev);\n  }\n\n  private onDragEnd = (ev: PointerEvent) => {\n    this.dragging = false;\n    const isHeightGtWidth = this.rect.isHeightGtWidth;\n    this.player.seek(this.getCurrentTime(isHeightGtWidth ? ev.clientY : ev.clientX, isHeightGtWidth));\n  }\n\n  private updateThumbnail(ev: MouseEvent): void {\n    this.rect.update();\n    const isHeightGtWidth = this.rect.isHeightGtWidth;\n    const x = isHeightGtWidth ? ev.clientY : ev.clientX;\n    this.thumbnail.update(\n      this.getCurrentTime(x, isHeightGtWidth),\n      x - (isHeightGtWidth ? this.rect.y : this.rect.x), isHeightGtWidth ? this.rect.height : this.rect.width,\n    );\n  }\n\n  private updateBufBar = (): void => {\n    const bufLen = this.player.buffered.length;\n\n    if (!bufLen) return this.setBufBarLength(0);\n\n    const curTime = this.player.currentTime;\n    let percentage = 0;\n\n    this.player.eachBuffer((start, end) => {\n      if (start <= curTime && end >= curTime) {\n        percentage = end / this.player.duration;\n        return true;\n      }\n    });\n\n    this.setBufBarLength(percentage);\n  }\n\n  private updatePlayedBar = (): void => {\n    if (this.dragging) return;\n    this.setPlayedBarLength(this.player.currentTime / this.player.duration);\n  }\n\n  private getCurrentTime(x: number, isHeightGtWidth: boolean): number {\n    return clamp(\n      ((x - (isHeightGtWidth ? this.rect.y : this.rect.x)) / (isHeightGtWidth ? this.rect.height : this.rect.width)),\n    ) * this.player.duration;\n  }\n}\n\nexport const progressControlItem = () => new Progress();\n","import { EVENT } from './constants';\nimport { Player } from './player';\nimport type { Disposable, PlayerOptions } from './types';\nimport { addDisposable, isWin10IE, throttle } from './utils';\nimport { settingControlItem } from './parts/control/items/setting';\nimport { speedSettingItem } from './setting-items/speed';\nimport { playControlItem } from './parts/control/items/play';\nimport { volumeControlItem } from './parts/control/items/volume';\nimport { timeControlItem } from './parts/control/items/time';\nimport { webFullscreenControlItem } from './parts/control/items/web-fullscreen';\nimport { fullscreenControlItem } from './parts/control/items/fullscreen';\nimport { loopContextMenuItem } from './contextmenu-items/loop';\nimport { pipContextMenuItem } from './contextmenu-items/pip';\nimport { versionContextMenuItem } from './contextmenu-items/version';\nimport { airplayControlItem } from './parts/control/items/airplay';\nimport { progressControlItem } from './parts/control/progress';\n\nfunction trans(\n  player: Player,\n  from: string,\n  to: string,\n): Disposable {\n  const fn = (ev: Event) => player.emit(to, ev);\n  player.video.addEventListener(from, fn);\n  return { dispose: () => player.video.removeEventListener(from, fn) };\n}\n\nfunction transThrottle(\n  player: Player,\n  from: string,\n  to: string,\n  dom: HTMLElement | Window = player.video,\n  fn = (ev: Event) => { player.emit(to, ev); },\n): Disposable {\n  dom.addEventListener(from, throttle(fn));\n  return { dispose: () => dom.removeEventListener(from, fn) };\n}\n\nexport function tryOpenEdge(player: Player): void {\n  if (player.opts.openEdgeInIE && isWin10IE) {\n    window.location.assign(`microsoft-edge:${document.URL}`);\n    player.emit(EVENT.OPEN_EDGE);\n  }\n}\n\nexport function setCssVariables(el: HTMLElement, opts: PlayerOptions): void {\n  const style = el.style;\n  if (opts.themeColor) style.setProperty('--theme-color', opts.themeColor);\n  if (opts.progressBg) style.setProperty('--progress-bg', opts.progressBg);\n  if (opts.posterBgColor) style.setProperty('--poster-bg-color', opts.posterBgColor);\n  if (opts.volumeProgressBg) style.setProperty('--volume-progress-bg', opts.volumeProgressBg);\n}\n\nexport function setVideoAttrs(video: HTMLVideoElement, opts: PlayerOptions['videoAttrs']): void {\n  if (!opts) return;\n  Object.keys(opts).forEach((k) => {\n    video.setAttribute(k, opts[k]);\n  });\n}\n\nexport function setVideoSources(video: HTMLVideoElement, opts: PlayerOptions['videoSources']): void {\n  if (!opts) return;\n  video.innerHTML = '';\n  if (!opts.length) return;\n  const frag = document.createDocumentFragment();\n  opts.forEach((s) => {\n    const source = document.createElement('source');\n    Object.keys(s).forEach((k) => {\n      source.setAttribute(k, (s as any)[k]);\n    });\n    frag.appendChild(source);\n  });\n  video.appendChild(frag);\n}\n\nconst storageVolumeKey = 'nplayer:volume';\nexport function setVideoVolumeFromLocal(video: HTMLVideoElement): void {\n  try {\n    const volume = parseFloat(localStorage.getItem(storageVolumeKey) as string);\n\n    // eslint-disable-next-line no-restricted-globals\n    if (!isNaN(volume)) video.volume = volume;\n  } catch (error) {\n    // ignore\n  }\n}\n\nexport function saveVideoVolume(volume: number) {\n  try {\n    localStorage.setItem(storageVolumeKey, String(volume));\n  } catch (error) {\n    // ignore\n  }\n}\n\nexport function registerNamedMap(player: Player) {\n  player.registerContextMenuItem(loopContextMenuItem());\n  player.registerContextMenuItem(pipContextMenuItem());\n  player.registerContextMenuItem(versionContextMenuItem());\n  player.registerSettingItem(speedSettingItem());\n  player.registerControlItem(playControlItem());\n  player.registerControlItem(volumeControlItem());\n  player.registerControlItem(timeControlItem());\n  player.registerControlItem(settingControlItem());\n  player.registerControlItem(webFullscreenControlItem());\n  player.registerControlItem(fullscreenControlItem());\n  player.registerControlItem(airplayControlItem());\n  player.registerControlItem(progressControlItem());\n}\n\nexport function tryEmitUpdateSize(player: Player, ev?: Event): void {\n  if (player && player.rect.changed) {\n    player.emit(EVENT.UPDATE_SIZE, ev);\n  }\n}\n\nexport function transferEvent(player: Player): void {\n  const dis = (d: Disposable) => addDisposable(player, d);\n\n  dis(trans(player, 'durationchange', EVENT.DURATION_CHANGE));\n  dis(trans(player, 'ratechange', EVENT.RATE_CHANGE));\n  dis(trans(player, 'play', EVENT.PLAY));\n  dis(trans(player, 'pause', EVENT.PAUSE));\n  dis(trans(player, 'ended', EVENT.ENDED));\n  dis(trans(player, 'waiting', EVENT.WAITING));\n  dis(trans(player, 'stalled', EVENT.STALLED));\n  dis(trans(player, 'canplay', EVENT.CANPLAY));\n  dis(trans(player, 'loadedmetadata', EVENT.LOADED_METADATA));\n  dis(trans(player, 'error', EVENT.ERROR));\n  dis(trans(player, 'seeked', EVENT.SEEKED));\n  dis(trans(player, 'enterpictureinpicture', EVENT.ENTER_PIP));\n  dis(trans(player, 'leavepictureinpicture', EVENT.EXIT_PIP));\n\n  dis(transThrottle(player, 'timeupdate', EVENT.TIME_UPDATE));\n  dis(transThrottle(player, 'volumechange', EVENT.VOLUME_CHANGE));\n  dis(transThrottle(player, 'progress', EVENT.PROGRESS));\n\n  dis(transThrottle(player, 'resize', EVENT.UPDATE_SIZE, window, (ev) => tryEmitUpdateSize(player, ev)));\n  if ((window as any).ResizeObserver) {\n    const ro = new ResizeObserver(throttle(() => player.emit(EVENT.UPDATE_SIZE)));\n    ro.observe(player.el);\n    dis({ dispose: () => ro.disconnect() });\n  }\n\n  player.on(EVENT.LOADED_METADATA, () => {\n    if (player.video.paused) {\n      player.emit(EVENT.PAUSE);\n    } else {\n      player.emit(EVENT.PLAY);\n    }\n  });\n}\n","import { I18n, LOOP } from '../features';\nimport type { ContextMenuItem } from '../parts/contextmenu';\n\nexport const loopContextMenuItem = (): ContextMenuItem => ({\n  id: 'loop',\n  html: I18n.t(LOOP),\n  show(player, item) {\n    item.checked = player.loop;\n  },\n  click(player, item) {\n    item.checked = player.loop = !player.loop;\n  },\n});\n","import { I18n, PIP } from '../features';\nimport type { ContextMenuItem } from '../parts/contextmenu';\n\nexport const pipContextMenuItem = (): ContextMenuItem => ({\n  id: 'pip',\n  html: I18n.t(PIP),\n  init() {\n    this.invisible = !('pictureInPictureEnabled' in document);\n  },\n  click(player) {\n    if (!player.loaded) return;\n    if ((document as any).pictureInPictureElement !== player.video) {\n      (player.video as any).requestPictureInPicture();\n    } else {\n      (document as any).exitPictureInPicture();\n    }\n  },\n});\n","import type { ContextMenuItem } from '../parts/contextmenu';\n\nexport const versionContextMenuItem = (): ContextMenuItem => ({\n  id: 'version',\n  html: `NPlayer v${__VERSION__}`,\n  disabled: true,\n});\n","import { I18n, NORMAL, SPEED } from '../features';\nimport type { SettingItem } from '../parts/control/items/setting';\n\nexport const speedSettingItem = (): SettingItem => ({\n  id: 'speed',\n  html: I18n.t(SPEED),\n  type: 'select',\n  value: 1,\n  options: [\n    { value: 0.25, html: '0.25' },\n    { value: 0.5, html: '0.5' },\n    { value: 1, html: I18n.t(NORMAL) },\n    { value: 1.5, html: '1.5' },\n    { value: 2, html: '2' },\n  ],\n  init(p, item) {\n    if (item.options) {\n      const rate = p.playbackRate;\n      for (let i = 0, l = item.options.length; i < l; i++) {\n        if (item.options[i].value === rate) {\n          item.value = rate;\n          return;\n        }\n      }\n    }\n    p.playbackRate = 1;\n  },\n  change(value, player) {\n    this.value = player.playbackRate = value;\n  },\n});\n","import { EVENT } from 'src/ts/constants';\nimport { Icon } from 'src/ts/features';\nimport { Player } from 'src/ts/player';\nimport {\n  addClass,\n  addDisposable, addDisposableListener, Component, hide, show,\n} from 'src/ts/utils';\n\nexport class Poster extends Component {\n  private playEl: HTMLElement;\n\n  private poster: string;\n\n  private tryToPlayed = false;\n\n  constructor(container: HTMLElement, private player: Player) {\n    super(container, '.poster');\n    this.poster = player.opts.poster;\n    this.playEl = player.opts.posterPlayEl || Icon.play();\n    addClass(this.playEl, 'poster_play');\n    this.el.appendChild(this.playEl);\n    this.hide();\n\n    if (!player.opts.posterEnable) return;\n\n    this.show();\n    if (this.poster) this.applyStyle({ backgroundImage: `url(${this.poster})` });\n\n    addDisposableListener(this, this.el, 'click', () => {\n      if (this.tryToPlayed) {\n        show(this.playEl);\n        player.pause();\n        this.tryToPlayed = false;\n        return;\n      }\n      this.tryToPlayed = true;\n      if (player.loaded) {\n        this.hide();\n      } else {\n        hide(this.playEl);\n        player.loading.show();\n      }\n      player.play();\n    });\n\n    addDisposable(this, player.on(EVENT.CANPLAY, this.tryHide));\n    addDisposable(this, player.on(EVENT.LOADED_METADATA, this.tryHide));\n    addDisposable(this, player.on(EVENT.UPDATE_OPTIONS, () => {\n      if (player.opts.poster && player.opts.poster !== this.poster && !player.playing) {\n        this.poster = player.opts.poster;\n        this.applyStyle({ backgroundImage: `url(${this.poster})` });\n        this.tryToPlayed = false;\n        this.addTimeUpdateHandler();\n        this.show();\n      }\n    }));\n\n    this.addTimeUpdateHandler();\n  }\n\n  private addTimeUpdateHandler() {\n    this.player.off(EVENT.TIME_UPDATE, this.onTimeUpdate);\n    this.player.on(EVENT.TIME_UPDATE, this.onTimeUpdate);\n  }\n\n  private onTimeUpdate = () => {\n    if (this.player.playing) {\n      this.tryToPlayed = true;\n      this.hide();\n      this.player.off(EVENT.TIME_UPDATE, this.onTimeUpdate);\n    }\n  }\n\n  private tryHide = () => {\n    if (!this.tryToPlayed) return;\n    this.hide();\n  }\n\n  get isActive(): boolean {\n    return this.el.style.display !== 'none';\n  }\n\n  show() {\n    show(this.el);\n    show(this.playEl);\n  }\n\n  hide() {\n    hide(this.el);\n  }\n}\n","import { ToastItem } from '../parts';\nimport { Player } from '../player';\nimport type { Disposable } from '../types';\nimport {\n  clamp, formatTime, throttle,\n} from '../utils';\n\nexport class Touch implements Disposable {\n  private startX = 0;\n\n  private duration = 0;\n\n  private durationStr = '';\n\n  private currentTime = 0;\n\n  private seekTime = -1;\n\n  private toastItem!: ToastItem;\n\n  private showControlTimer!: any;\n\n  private videoTouched = false;\n\n  private dragged = false;\n\n  constructor(private player: Player) {\n    if (player.opts.isTouch) {\n      this.enable();\n    }\n  }\n\n  private onTouchStart = (ev: TouchEvent) => {\n    if (ev.touches.length !== 1) return;\n    ev.preventDefault();\n\n    if (this.videoTouched) {\n      clearTimeout(this.showControlTimer);\n      this.videoTouched = false;\n      this.player.toggle();\n    } else {\n      this.videoTouched = true;\n      this.showControlTimer = setTimeout(() => {\n        this.videoTouched = false;\n        const control = this.player.control;\n        if (control.isActive) {\n          control.hide();\n        } else {\n          control.showTransient();\n        }\n      }, 200);\n    }\n  }\n\n  private onTouchMove = throttle((ev: TouchEvent) => {\n    if (ev.touches.length !== 1) return;\n    ev.preventDefault();\n\n    if (this.dragged) {\n      const distance = ev.touches[0].clientX - this.startX;\n      if (Math.abs(distance) < 15) return;\n      this.seekTime = clamp(this.currentTime + distance / 5, 0, this.duration) | 0;\n      this.toastItem = this.player.toast.show(`${formatTime(this.seekTime)} · ${this.durationStr}`, 'center', 0);\n    } else {\n      this.duration = this.player.duration;\n      if (!this.player.opts.live && this.duration) {\n        this.durationStr = formatTime(this.duration);\n        this.currentTime = this.player.currentTime;\n        this.startX = ev.touches[0].clientX;\n        this.seekTime = -1;\n        this.dragged = true;\n      }\n    }\n  })\n\n  private onTouchEnd = () => {\n    if (!this.dragged) return;\n    this.dragged = false;\n    if (this.toastItem) {\n      setTimeout(() => this.player.toast.close(this.toastItem), 200);\n    }\n    if (this.seekTime >= 0 && Math.abs(this.seekTime - this.player.currentTime) > 3) {\n      this.player.currentTime = this.seekTime;\n    }\n  }\n\n  enable(): void {\n    this.player.video.addEventListener('touchstart', this.onTouchStart);\n    this.player.video.addEventListener('touchmove', this.onTouchMove);\n    this.player.video.addEventListener('touchend', this.onTouchEnd);\n    this.player.video.addEventListener('touchcancel', this.onTouchEnd);\n  }\n\n  disable(): void {\n    this.player.video.removeEventListener('touchstart', this.onTouchStart);\n    this.player.video.removeEventListener('touchmove', this.onTouchMove);\n    this.player.video.removeEventListener('touchend', this.onTouchEnd);\n    this.player.video.removeEventListener('touchcancel', this.onTouchEnd);\n  }\n\n  dispose() {\n    if (this.toastItem) {\n      this.player.toast.close(this.toastItem);\n    }\n    this.disable();\n  }\n}\n","import type { Disposable, PlayerOptions, Plugin } from './types';\nimport { processOptions } from './options';\nimport {\n  $, addClass, getEl, Rect, EventEmitter, clamp, isString,\n  dispose, removeNode, addDisposable, patchProps, internalUtils,\n} from './utils';\nimport { Control, type ControlItem } from './parts/control';\nimport { Loading } from './parts/loading';\nimport { ContextMenu, type ContextMenuItem } from './parts/contextmenu';\nimport { Toast } from './parts/toast';\nimport { Fullscreen } from './features/fullscreen';\nimport { WebFullscreen } from './features/web-fullscreen';\nimport {\n  setCssVariables, setVideoAttrs, transferEvent, tryOpenEdge,\n  setVideoVolumeFromLocal, registerNamedMap, setVideoSources, saveVideoVolume,\n} from './helper';\nimport { EVENT } from './constants';\nimport { Shortcut } from './features/shortcut';\nimport type { SettingItem } from './parts/control/items/setting';\n\nimport * as components from './components';\nimport { I18n, Icon } from './features';\nimport { Poster } from './parts/poster';\nimport { Touch } from './features/touch';\n\nexport class Player extends EventEmitter implements Disposable {\n  container: HTMLElement | null;\n\n  el: HTMLElement;\n\n  opts: Required<PlayerOptions>;\n\n  mounted = false;\n\n  private prevVolume = 1;\n\n  private readonly settingNamedMap: Record<string, SettingItem> = Object.create(null);\n\n  private readonly contextmenuNamedMap: Record<string, ContextMenuItem> = Object.create(null);\n\n  private readonly controlNamedMap: Record<string, ControlItem> = Object.create(null);\n\n  readonly __settingItems: SettingItem[];\n\n  readonly video: HTMLVideoElement;\n\n  readonly rect: Rect;\n\n  readonly fullscreen: Fullscreen;\n\n  readonly webFullscreen: WebFullscreen;\n\n  readonly shortcut: Shortcut;\n\n  readonly touch: Touch;\n\n  readonly control: Control;\n\n  readonly loading: Loading;\n\n  readonly poster: Poster;\n\n  readonly contextmenu: ContextMenu;\n\n  readonly toast: Toast;\n\n  private readonly plugins: Set<Plugin> = new Set();\n\n  constructor(opts?: PlayerOptions) {\n    super();\n    this.opts = processOptions(opts);\n    tryOpenEdge(this);\n    I18n.setCurrentLang(this.opts.i18n);\n    this.container = getEl(this.opts.container);\n    this.el = $('.nplayer', { tabindex: '0' }, undefined, '');\n    if (this.opts.video) {\n      this.video = this.opts.video;\n      addClass(this.video, 'video');\n    } else {\n      this.video = $('video.video');\n    }\n\n    if (this.opts.src) this.opts.videoProps.src = this.opts.src;\n    setCssVariables(this.el, this.opts);\n    setVideoAttrs(this.video, this.opts.videoProps);\n    setVideoSources(this.video, this.opts.videoSources);\n    setVideoVolumeFromLocal(this.video);\n    transferEvent(this);\n    this.el.appendChild(this.video);\n\n    registerNamedMap(this);\n\n    this.rect = addDisposable(this, new Rect(this.el, this));\n    this.fullscreen = addDisposable(this, new Fullscreen(this));\n    this.webFullscreen = addDisposable(this, new WebFullscreen(this));\n    this.shortcut = addDisposable(this, new Shortcut(this, this.opts.shortcut));\n    this.touch = addDisposable(this, new Touch(this));\n    this.toast = addDisposable(this, new Toast(this.el));\n    this.loading = addDisposable(this, new Loading(this.el, this));\n    this.poster = addDisposable(this, new Poster(this.el, this));\n\n    if (this.opts.plugins) {\n      this.opts.plugins.forEach((plugin) => this.use(plugin));\n    }\n\n    this.contextmenu = addDisposable(this, new ContextMenu(this.el, this, this.opts.contextMenus.map((item) => {\n      if (isString(item)) return this.contextmenuNamedMap[item];\n      return item;\n    }).filter(Boolean)));\n\n    this.__settingItems = this.opts.settings.map((item) => {\n      if (isString(item)) return this.settingNamedMap[item];\n      return item;\n    }).filter(Boolean);\n\n    this.control = addDisposable(this, new Control(this.el, this));\n\n    addDisposable(this, this.on(EVENT.CANPLAY, () => {\n      const time = this.opts.autoSeekTime || 0.3;\n      if (this.currentTime < time) {\n        this.currentTime = time;\n\n        /**\n         * @see https://stackoverflow.com/questions/18266437/html5-video-currenttime-not-setting-properly-on-iphone\n         */\n        if (this.currentTime < time) {\n          this.video.load();\n          this.video.pause();\n        }\n      }\n      this.opts.autoSeekTime = 0;\n    }));\n\n    if (!this.opts.isTouch) {\n      this.enableClickPause();\n    }\n\n    this.emit(EVENT.AFTER_INIT);\n  }\n\n  get currentTime(): number {\n    return this.video.currentTime;\n  }\n\n  set currentTime(v: number) {\n    if (!this.duration) return;\n    const diff = v - this.video.currentTime;\n    if (!diff) return;\n    this.video.currentTime = clamp(v, 0, this.duration);\n  }\n\n  get loaded(): boolean {\n    return this.video.readyState >= 3;\n  }\n\n  get duration(): number {\n    return this.video.duration || 0;\n  }\n\n  get buffered(): TimeRanges {\n    return this.video.buffered;\n  }\n\n  get volume(): number {\n    return this.video.volume;\n  }\n\n  set volume(v: number) {\n    this.video.volume = clamp(v);\n    if (this.muted && v > 0) this.muted = false;\n    saveVideoVolume(this.video.volume);\n  }\n\n  get muted(): boolean {\n    return this.video.muted || this.volume === 0;\n  }\n\n  set muted(v: boolean) {\n    this.video.muted = v;\n  }\n\n  get playbackRate(): number {\n    return this.video.playbackRate;\n  }\n\n  set playbackRate(v: number) {\n    this.video.playbackRate = v;\n  }\n\n  get ended(): boolean {\n    return this.video.ended;\n  }\n\n  get paused(): boolean {\n    return this.video.paused;\n  }\n\n  get playing(): boolean {\n    return !this.paused && !this.ended;\n  }\n\n  get loop(): boolean {\n    return this.video.loop;\n  }\n\n  set loop(v: boolean) {\n    this.video.loop = v;\n  }\n\n  enableClickPause() {\n    this.video.addEventListener('click', this.toggle);\n  }\n\n  disableClickPause() {\n    this.video.removeEventListener('click', this.toggle);\n  }\n\n  use(plugin: Plugin): this {\n    if (!plugin || this.plugins.has(plugin)) return this;\n    if (plugin.dispose) {\n      addDisposable(this, plugin as Disposable);\n    }\n    plugin.apply(this);\n    return this;\n  }\n\n  mount(el?: PlayerOptions['container']): void {\n    if (this.mounted) {\n      el = getEl(el) as any;\n      if (el && el !== this.container) {\n        if (this.container) this.container.removeChild(this.el);\n        this.container = el as HTMLElement;\n        this.container.appendChild(this.el);\n        this.emit(EVENT.UPDATE_SIZE);\n      }\n      return;\n    }\n    if (el) this.container = getEl(el) || this.container;\n    if (!this.container) return;\n    this.container.appendChild(this.el);\n    this.emit(EVENT.MOUNTED);\n    this.mounted = true;\n  }\n\n  incVolume(v = this.opts.volumeStep): void {\n    this.volume += v;\n  }\n\n  decVolume(v = this.opts.volumeStep): void {\n    this.volume -= v;\n  }\n\n  forward(v = this.opts.seekStep): void {\n    this.currentTime += v;\n  }\n\n  rewind(v = this.opts.seekStep): void {\n    this.currentTime -= v;\n  }\n\n  play(): Promise<void> | void {\n    return this.video.play();\n  }\n\n  pause(): void {\n    this.video.pause();\n  }\n\n  seek(seconds: number): void {\n    this.video.currentTime = clamp(seconds, 0, this.duration);\n  }\n\n  toggle = () => {\n    if (this.paused) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  toggleVolume(): void {\n    if (this.muted) {\n      this.volume = this.prevVolume || 1;\n      this.muted = false;\n    } else {\n      this.prevVolume = this.volume;\n      this.volume = 0;\n    }\n  }\n\n  eachBuffer(fn: (start: number, end: number) => boolean | void): void {\n    for (let l = this.buffered.length, i = l - 1; i >= 0; i--) {\n      if (fn(this.buffered.start(i), this.buffered.end(i))) {\n        break;\n      }\n    }\n  }\n\n  registerSettingItem(item: SettingItem, id?: string): void {\n    this.settingNamedMap[id || item.id!] = item;\n  }\n\n  registerContextMenuItem(item: ContextMenuItem, id?: string): void {\n    this.contextmenuNamedMap[id || item.id!] = item;\n  }\n\n  registerControlItem(item: ControlItem, id?: string): void {\n    this.controlNamedMap[id || item.id!] = item;\n  }\n\n  getSettingItem(id: string): SettingItem | undefined {\n    return this.settingNamedMap[id];\n  }\n\n  getContextMenuItem(id: string): ContextMenuItem | undefined {\n    return this.contextmenuNamedMap[id];\n  }\n\n  getControlItem(id: string): ControlItem | undefined {\n    return this.controlNamedMap[id] as ControlItem;\n  }\n\n  updateOptions(opts: PlayerOptions): void {\n    if (opts.videoProps !== this.opts.videoProps) patchProps(this.video, this.opts.videoProps, opts.videoProps);\n    if (opts.src && opts.src !== this.opts.src) this.video.src = opts.src;\n    if (opts.videoSources !== this.opts.videoSources) setVideoSources(this.video, opts.videoSources);\n    this.opts = { ...this.opts, ...opts };\n    setCssVariables(this.el, this.opts);\n    if (this.opts.shortcut) {\n      this.shortcut.enable();\n    } else {\n      this.shortcut.disable();\n    }\n    this.emit(EVENT.UPDATE_OPTIONS, this.opts);\n  }\n\n  updateControlItems(items: Parameters<Control['updateItems']>[0], index?: number): void {\n    this.control.updateItems(items, index);\n  }\n\n  dispose(): void {\n    if (!this.el) return;\n    this.emit(EVENT.BEFORE_DISPOSE);\n    dispose(this);\n    const plugins = this.opts.plugins;\n    if (plugins) plugins.forEach((p) => p.dispose && p.dispose());\n    this.removeAllListeners();\n    removeNode(this.el);\n    this.el = null!;\n    this.container = null;\n  }\n\n  static __utils = internalUtils;\n\n  static EVENT = EVENT;\n\n  static I18n = I18n;\n\n  static Icon = Icon;\n\n  static components = components;\n\n  static Player = Player;\n\n  Player!: typeof Player;\n\n  EVENT!: typeof EVENT;\n}\n\nPlayer.prototype.Player = Player;\nPlayer.prototype.EVENT = EVENT;\n\nexport { Component } from './utils/component';\n","import type { PlayerOptions } from './types';\n\nconst defaultOptions = (): Partial<PlayerOptions> => ({\n  shortcut: true,\n  seekStep: 10,\n  volumeStep: 0.1,\n  volumeBarLength: 100,\n  settings: ['speed'],\n  contextMenus: ['loop', 'pip', 'version'],\n  contextMenuToggle: true,\n  openEdgeInIE: true,\n  posterEnable: true,\n  videoProps: {\n    preload: 'auto',\n    playsinline: 'true',\n  },\n});\n\nexport function processOptions(opts?: PlayerOptions): Required<PlayerOptions> {\n  const dOpts = defaultOptions();\n  const res = {\n    ...dOpts,\n    isTouch: (('ontouchstart' in window)\n    || (navigator.maxTouchPoints > 0)\n    || ((navigator as any).msMaxTouchPoints > 0)),\n    ...opts,\n  } as Required<PlayerOptions>;\n\n  res.controls = res.controls || [\n    ['play', res.isTouch ? '' : 'volume', 'time', 'spacer', 'airplay', 'settings', 'web-fullscreen', 'fullscreen'],\n    [res.live ? '' : 'progress'],\n  ];\n\n  res.bpControls = res.bpControls || {\n    650: [\n      ['play', res.live ? '' : 'progress', 'time', 'web-fullscreen', 'fullscreen'],\n      [],\n      ['spacer', 'airplay', 'settings'],\n    ],\n  };\n\n  res.controls = res.controls.filter(Boolean).map((x) => x.filter(Boolean));\n\n  const newBpControls: PlayerOptions['bpControls'] = {};\n  // eslint-disable-next-line no-restricted-globals\n  Object.keys(res.bpControls).filter((x) => x && !isNaN(Number(x)) && Array.isArray(res.bpControls[x])).forEach((k) => {\n    newBpControls[k] = res.bpControls[k].filter(Boolean).map((x) => x.filter(Boolean));\n  });\n\n  res.bpControls = newBpControls;\n\n  return res;\n}\n","import type { Disposable } from '../types';\nimport {\n  $, dispose, removeNode,\n} from '.';\nimport { isString } from './is';\n\nexport class Component implements Disposable {\n  el: HTMLElement;\n\n  constructor(\n    container?: HTMLElement,\n    desc?: string | HTMLElement,\n    attrs?: { [key: string]: any; },\n    children?: string | Array<Node>,\n    classPrefix?: string,\n  ) {\n    if (desc && !isString(desc)) {\n      this.el = desc;\n    } else {\n      this.el = $(desc, attrs, children, classPrefix);\n    }\n    if (container) container.appendChild(this.el);\n  }\n\n  applyStyle(style: Partial<CSSStyleDeclaration>): void {\n    Object.assign(this.el.style, style);\n  }\n\n  dispose() {\n    removeNode(this.el);\n    dispose(this);\n  }\n}\n","export const isBrowser = typeof window !== 'undefined';\nexport const isIOS = isBrowser && /(iPad|iPhone|iPod)/gi.test(navigator.platform);\nexport const isIE = isBrowser && /MSIE|Trident/.test(navigator.userAgent);\nexport const isWin10IE = isBrowser && isIE && navigator.userAgent.indexOf('Windows NT 10.0') > -1;\n","import { isBool, isString } from '.';\nimport { CLASS_PREFIX } from '../constants';\nimport type { Disposable } from '../types';\nimport { isBrowser } from './env';\n\nconst SELECTOR_REGEX = /([\\w-]+)?(?:#([\\w-]+))?((?:\\.(?:[\\w-]+))*)/;\n\nexport function $<T extends HTMLElement>(\n  desc?: string,\n  attrs?: { [key: string]: any; },\n  children?: string | Array<Node>,\n  classPrefix = CLASS_PREFIX,\n): T {\n  let match: string[] = [];\n\n  if (desc) match = SELECTOR_REGEX.exec(desc) || [];\n\n  const el = document.createElement(match[1] || 'div');\n\n  if (match[2]) el.id = match[3];\n  if (match[3]) el.className = match[3].replace(/\\./g, ` ${classPrefix}`).trim();\n\n  if (attrs) {\n    Object.keys(attrs).forEach((name) => {\n      const value = attrs[name];\n      if (value === undefined) return;\n\n      if (/^on\\w+$/.test(name)) {\n        (el as any)[name] = value;\n      } else if (name === 'selected') {\n        if (value) {\n          el.setAttribute(name, 'true');\n        }\n      } else {\n        el.setAttribute(name, value);\n      }\n    });\n  }\n\n  if (children) {\n    if (isString(children)) {\n      el.innerHTML = children;\n    } else {\n      children.forEach((c) => el.appendChild(c));\n    }\n  }\n\n  return el as T;\n}\n\nexport function getEl(el: HTMLElement | string | undefined | null): HTMLElement | null {\n  if (!el) return null;\n  if (isString(el)) return document.querySelector(el);\n  return el;\n}\n\nexport function removeNode(node: Element): void {\n  if (!node) return;\n  if (node.remove) {\n    node.remove();\n  } else if (node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n}\n\nexport function show(node: HTMLElement | SVGElement): void {\n  node.style.display = '';\n}\n\nexport function hide(node: HTMLElement | SVGElement): void {\n  node.style.display = 'none';\n}\n\nexport function addClass<T extends Element>(dom: T, cls = '', prefix = CLASS_PREFIX): T {\n  cls = cls.trim();\n  if (!cls) return dom;\n  if (dom.classList) {\n    cls.split(' ').forEach((c) => dom.classList.add(prefix + c));\n  } else {\n    const oldCls = (dom.className && (dom.className as any).baseVal) || '';\n    dom.setAttribute('class', (oldCls ? `${oldCls} ` : '') + cls.split(' ').map((c) => prefix + c).join(' '));\n  }\n  return dom;\n}\n\nexport function removeClass<T extends Element>(dom: T, cls: string, prefix = CLASS_PREFIX): T {\n  dom.classList.remove(prefix + cls);\n  return dom;\n}\n\nexport function containClass(dom: Element, cls: string, prefix = CLASS_PREFIX): boolean {\n  return dom.classList.contains(prefix + cls);\n}\n\nexport function toggleClass(dom: Element, cls: string, force?: boolean, prefix = CLASS_PREFIX): boolean {\n  cls = prefix + cls;\n  if (force) {\n    dom.classList.add(cls);\n    return true;\n  } if (force === false) {\n    dom.classList.remove(cls);\n    return true;\n  }\n  return dom.classList.toggle(cls, force);\n}\n\nconst svgNS = 'http://www.w3.org/2000/svg';\n\nexport function createSvg(cls?: string, d?: string, viewBox = '0 0 24 24'): SVGSVGElement {\n  const svg = document.createElementNS(svgNS, 'svg');\n  svg.setAttribute('viewBox', viewBox);\n  if (cls) addClass(svg, cls);\n  if (d) {\n    const path = document.createElementNS(svgNS, 'path');\n    path.setAttributeNS(null, 'd', d);\n    svg.appendChild(path);\n  }\n  return svg;\n}\n\nexport function getEventPath(ev: Event): EventTarget[] {\n  return (ev as any).path || ev.composedPath();\n}\n\nlet thirdOptsSupported = false;\n\nif (isBrowser) {\n  try {\n    const options = Object.defineProperty({}, 'once', { get() { thirdOptsSupported = true; } });\n    window.addEventListener('test', null as any, options);\n  // eslint-disable-next-line no-empty\n  } catch (e) {}\n}\n\nexport function isListenerObjOptsSupported(): boolean {\n  return thirdOptsSupported;\n}\n\nexport class DomListener implements Disposable {\n  constructor(\n    private node: EventTarget,\n    private type: string,\n    private handler: (e: any) => void,\n    private options?: boolean | AddEventListenerOptions,\n  ) {\n    this.options = isBool(options) ? options : options ? (thirdOptsSupported && options) : false;\n    node.addEventListener(type, handler, this.options);\n  }\n\n  dispose(): void {\n    if (!this.handler) return;\n    this.node.removeEventListener(this.type, this.handler, this.options);\n    this.node = null!;\n    this.handler = null!;\n    this.options = null!;\n  }\n}\n\nexport function measureElementSize(\n  dom: HTMLElement,\n): { width: number; height: number } {\n  const clone = dom.cloneNode(true) as HTMLElement;\n  clone.style.position = 'absolute';\n  clone.style.opacity = '0';\n  clone.removeAttribute('hidden');\n\n  const parent = dom.parentNode || document.body;\n\n  parent.appendChild(clone);\n\n  const rect = clone.getBoundingClientRect();\n\n  parent.removeChild(clone);\n\n  return rect;\n}\n","import type { Disposable } from '../types';\n\ntype Fn = (ev: PointerEvent) => any;\n\nexport class Drag implements Disposable {\n  private el: HTMLElement;\n\n  private start: Fn;\n\n  private move: Fn;\n\n  private end: Fn | undefined;\n\n  private pending = false;\n\n  private lastEv!: PointerEvent;\n\n  constructor(dom: HTMLElement, start: Fn, move: Fn, end?: Fn) {\n    this.el = dom;\n    this.start = start;\n    this.move = move;\n    this.end = end;\n\n    dom.addEventListener('pointerdown', this.downHandler, true);\n    dom.addEventListener('pointerup', this.upHandler, true);\n    dom.addEventListener('pointercancel', this.upHandler, true);\n  }\n\n  private downHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.el.setPointerCapture(ev.pointerId);\n    this.el.addEventListener('pointermove', this.moveHandler, true);\n    this.start(ev);\n  };\n\n  private moveHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.lastEv = ev;\n    if (this.pending) return;\n    this.pending = true;\n    requestAnimationFrame(this.handlerMove);\n  };\n\n  private handlerMove = (): void => {\n    this.move(this.lastEv);\n    this.pending = false;\n  };\n\n  private upHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.el.releasePointerCapture(ev.pointerId);\n    this.el.removeEventListener('pointermove', this.moveHandler, true);\n\n    if (this.end) this.end(ev);\n  };\n\n  dispose(): void {\n    if (!this.el) return;\n    this.el.removeEventListener('pointerdown', this.downHandler, true);\n    this.el.removeEventListener('pointerup', this.upHandler, true);\n    this.el.removeEventListener('pointercancel', this.upHandler, true);\n    this.el.removeEventListener('pointermove', this.moveHandler, true);\n    this.start = null!;\n    this.move = null!;\n    this.end = null!;\n    this.lastEv = null!;\n    this.el = null!;\n  }\n}\n","import { EVENT } from '../constants';\nimport { Player } from '../player';\nimport type { Disposable } from '../types';\n\nexport class Rect implements Disposable {\n  private rect!: DOMRect;\n\n  constructor(private el: HTMLElement, private player?: Player) {\n    this.rect = {} as DOMRect;\n    if (player) {\n      player.on(EVENT.UPDATE_SIZE, this.update);\n    }\n  }\n\n  get isHeightGtWidth() {\n    return this.width < this.height;\n  }\n\n  get width(): number {\n    this.tryUpdate(this.rect.width);\n    return this.rect.width;\n  }\n\n  get height(): number {\n    this.tryUpdate(this.rect.height);\n    return this.rect.height;\n  }\n\n  get x(): number {\n    this.tryUpdate(this.rect.left);\n    return this.rect.left;\n  }\n\n  get y(): number {\n    this.tryUpdate(this.rect.top);\n    return this.rect.top;\n  }\n\n  get changed(): boolean {\n    const newRect = this.el.getBoundingClientRect();\n    const ret = (\n      newRect.top !== this.rect.top\n      || newRect.left !== this.rect.left\n      || newRect.width !== this.rect.width\n      || newRect.height !== this.rect.height\n    );\n    if (ret) this.rect = newRect;\n    return ret;\n  }\n\n  private tryUpdate(v: number): void {\n    if (!v) this.update();\n  }\n\n  update = (): void => {\n    this.rect = this.el.getBoundingClientRect();\n  }\n\n  dispose(): void {\n    if (this.player) this.player.off(EVENT.UPDATE_SIZE, this.update);\n    this.el = null!;\n    this.rect = null!;\n  }\n}\n","import type { Disposable } from '../types';\n\n/**\n * @see https://github.com/primus/eventemitter3\n *\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nclass EE {\n  constructor(public fn: Function, public context: any, public once: boolean) {\n    this.once = once || false;\n  }\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nexport class EventEmitter {\n  private _events: Record<string, any>;\n\n  private _eventsCount: number;\n\n  constructor() {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  emit(evt: string, a1?: any, a2?: any, a3?: any, a4?: any, a5?: any): boolean {\n    if (!this._events[evt]) return false;\n\n    const listeners = this._events[evt];\n    const len = arguments.length;\n    let args;\n    let i;\n\n    if (listeners.fn) {\n      if (listeners.once) this.off(evt, listeners.fn, undefined, true);\n\n      switch (len) {\n        case 1: return listeners.fn.call(listeners.context), true;\n        case 2: return listeners.fn.call(listeners.context, a1), true;\n        case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n        case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n        case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n        case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n      }\n\n      for (i = 1, args = new Array(len - 1); i < len; i++) {\n        args[i - 1] = arguments[i];\n      }\n\n      listeners.fn.apply(listeners.context, args);\n    } else {\n      const length = listeners.length;\n      let j;\n\n      for (i = 0; i < length; i++) {\n        if (listeners[i].once) this.off(evt, listeners[i].fn, undefined, true);\n\n        switch (len) {\n          case 1: listeners[i].fn.call(listeners[i].context); break;\n          case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n          case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n          case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n          default:\n            if (!args) {\n              for (j = 1, args = new Array(len - 1); j < len; j++) {\n                args[j - 1] = arguments[j];\n              }\n            }\n\n            listeners[i].fn.apply(listeners[i].context, args);\n        }\n      }\n    }\n\n    return true;\n  }\n\n  on(evt: string, fn: Function, context?: any, once = false): Disposable {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The listener must be a function');\n    }\n\n    const listener = new EE(fn, context || this, once);\n\n    // eslint-disable-next-line no-unused-expressions\n    if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n    else if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [this._events[evt], listener];\n\n    return { dispose: this.off.bind(this, evt, fn) };\n  }\n\n  once(event: string, fn: Function, context?: any): Disposable {\n    return this.on(event, fn, context, true);\n  }\n\n  off(evt: string, fn?: Function, context?: any, once?: boolean): this {\n    if (!this._events[evt]) return this;\n    if (!fn) {\n      this.clearEvent(evt);\n      return this;\n    }\n\n    const listeners = this._events[evt];\n    const events = [];\n\n    if (listeners.fn) {\n      if (\n        listeners.fn === fn\n        && (!once || listeners.once)\n        && (!context || listeners.context === context)\n      ) {\n        this.clearEvent(evt);\n      }\n    } else {\n      for (let i = 0, length = listeners.length; i < length; i++) {\n        if (\n          listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n\n      //\n      // Reset the array, or remove it completely if we have no more listeners.\n      //\n      if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n      else this.clearEvent(evt);\n    }\n\n    return this;\n  }\n\n  removeAllListeners(evt?: string): this {\n    if (evt) {\n      if (this._events[evt]) this.clearEvent(evt);\n    } else {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    }\n\n    return this;\n  }\n\n  private clearEvent(evt: string) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);\n    else delete this._events[evt];\n  }\n}\n","import { removeNode } from './dom';\n\nexport interface Node {\n  id?: any;\n  el: HTMLElement;\n}\n\nfunction isSameNode(a: Node, b: Node): boolean {\n  if (!a || !b) return false;\n  return a === b || a.id === b.id;\n}\n\nfunction unmount(node: Node, unmountNode?: (n: Node) => void) {\n  removeNode(node.el);\n  if (unmountNode) unmountNode(node);\n}\n\nfunction mountOrMove(node: Node, container: HTMLElement, anchor?: Node, op?:(n: Node) => void) {\n  container.insertBefore(node.el, anchor?.el || null);\n  if (op) op(node);\n}\n\nfunction lis(arr: number[]): number[] {\n  const p: number[] = [];\n  const m = [arr[0]];\n  let lo = 0;\n  let hi = 0;\n  let mid = 0;\n  let last = 0;\n\n  for (let i = 1, l = arr.length, item; i < l; ++i) {\n    item = arr[i];\n    if (item !== -1) {\n      last = m.length - 1;\n      if (item > arr[m[last]]) {\n        p[i] = m[last];\n        m.push(i);\n      } else {\n        lo = 0;\n        hi = last;\n        while (lo < hi) {\n          mid = ((lo + hi) / 2) | 0;\n          if (item > arr[m[mid]]) {\n            lo = mid + 1;\n          } else {\n            hi = mid;\n          }\n        }\n        p[i] = m[lo - 1];\n        m[lo] = i;\n      }\n    }\n  }\n\n  last = m.length;\n  lo = m[last - 1];\n  while (last-- > 0) {\n    m[last] = lo;\n    lo = p[lo];\n  }\n\n  return m;\n}\n\nexport function patch(\n  prevNodes: Node[],\n  nextNodes: Node[],\n  container: HTMLElement,\n  op: {\n    mount?: (node: Node) => void;\n    update?: (node: Node) => void;\n    unmount?: (node: Node) => void;\n  } = {},\n) {\n  let prevEnd = prevNodes.length - 1;\n  let nextEnd = nextNodes.length - 1;\n  let startIndex = 0;\n  let prevNode = prevNodes[startIndex];\n  let nextNode = nextNodes[startIndex];\n\n  while (isSameNode(prevNode, nextNode)) {\n    startIndex++;\n    prevNode = prevNodes[startIndex];\n    nextNode = nextNodes[startIndex];\n  }\n\n  if (startIndex < prevEnd && startIndex < nextEnd) {\n    prevNode = prevNodes[prevEnd];\n    nextNode = nextNodes[nextEnd];\n\n    while (isSameNode(prevNode, nextNode)) {\n      prevNode = prevNodes[--prevEnd];\n      nextNode = nextNodes[--nextEnd];\n    }\n  }\n\n  if (startIndex > prevEnd && startIndex > nextEnd) return;\n\n  if (startIndex > prevEnd) {\n    for (let i = startIndex; i <= nextEnd; i++) {\n      mountOrMove(nextNodes[i], container, undefined, op.mount);\n    }\n  } else if (startIndex > nextEnd) {\n    for (let i = startIndex; i <= prevEnd; i++) {\n      unmount(prevNodes[i], op.unmount);\n    }\n  } else {\n    const toPatch = [];\n    const idMap = new Map<any, number>();\n    for (let i = startIndex; i <= nextEnd; i++) {\n      toPatch.push(-1);\n      idMap.set(nextNodes[i].id || nextNodes[i], i);\n    }\n\n    let moved = false;\n    let prevPos = 0;\n    let nextIndex = 0;\n    for (let i = startIndex; i <= prevEnd; i++) {\n      prevNode = prevNodes[i];\n      nextIndex = idMap.get(prevNode.id || prevNode) as any;\n\n      if (nextIndex == null) {\n        unmount(prevNode, op.unmount);\n      } else {\n        toPatch[nextIndex - startIndex] = i;\n\n        if (prevPos > nextIndex) {\n          moved = true;\n        } else {\n          prevPos = nextIndex;\n        }\n      }\n    }\n\n    const incSeq = moved ? lis(toPatch) : [];\n    let j = incSeq.length - 1;\n    for (let i = toPatch.length - 1, item, anchor; i > -1; i--) {\n      item = toPatch[i];\n      nextIndex = startIndex + i;\n      anchor = nextNodes[nextIndex + 1];\n      if (item === -1) {\n        mountOrMove(nextNodes[nextIndex], container, anchor, op.mount);\n      } else if (moved) {\n        if (i === incSeq[j]) {\n          j--;\n        } else {\n          mountOrMove(nextNodes[nextIndex], container, anchor, op.update);\n        }\n      }\n    }\n  }\n}\n\ntype CSSStyle = Partial<CSSStyleDeclaration>\ntype Data = Record<string, any>\n\nexport function patchStyles(el: HTMLElement, prevStyle: CSSStyle, nextStyle?: CSSStyle): void {\n  if (nextStyle === undefined) return;\n  if (!nextStyle) {\n    el.removeAttribute('style');\n  } else {\n    Object.keys(nextStyle).forEach((k) => {\n      el.style[k as any] = nextStyle[k as any] || '';\n    });\n    Object.keys(prevStyle).forEach((k) => {\n      if (!(k in nextStyle)) {\n        el.style[k as any] = '';\n      }\n    });\n  }\n}\n\nconst propMap: Record<string, boolean> = {\n  checked: true, muted: true, multiple: true, selected: true,\n};\n\nfunction setAttr(el: HTMLElement, key: string, value: any) {\n  if (propMap[key]) {\n    (el as any)[key] = value;\n  } else if (value == null) {\n    el.removeAttribute(key);\n  } else {\n    el.setAttribute(key, value);\n  }\n}\n\nexport function patchProps(el: HTMLElement, prevProps: Data, nextProps?: Data): void {\n  if (nextProps === undefined) return;\n  let prev;\n  let next;\n  Object.keys(nextProps).forEach((k) => {\n    prev = prevProps[k];\n    next = nextProps[k];\n    if (k === 'style') {\n      patchStyles(el, prev, next);\n    } else if (prev !== next) {\n      setAttr(el, k, next);\n    }\n  });\n  Object.keys(prevProps).forEach((k) => {\n    if (!(k in nextProps)) {\n      setAttr(el, k, undefined);\n    }\n  });\n}\n","import type { Disposable } from '../types';\nimport {\n  DomListener, $, createSvg, getEventPath, removeNode, addClass,\n} from './dom';\n\nexport * from './drag';\nexport * from './rect';\nexport * from './dom';\nexport * from './is';\nexport * from './env';\nexport * from './emitter';\nexport * from './component';\nexport * from './patch';\n\nexport function clamp(n: number, lower = 0, upper = 1): number {\n  return Math.max(Math.min(n, upper), lower);\n}\n\nconst disposableMap: Map<any, Array<Disposable>> = new Map();\n\nexport function getDisposableMap(): Map<any, Array<Disposable>> {\n  return disposableMap;\n}\n\nexport function addDisposable<T extends Disposable>(key: any, disposable: T): T {\n  if (!disposableMap.has(key)) disposableMap.set(key, []);\n  disposableMap.get(key)!.push(disposable);\n  return disposable;\n}\n\nexport function dispose(key: any): void {\n  if (disposableMap.has(key)) {\n    disposableMap.get(key)!.forEach((item) => item.dispose());\n    disposableMap.delete(key);\n  }\n}\n\nexport function addDisposableListener<K extends keyof GlobalEventHandlersEventMap>(\n  key: any,\n  node: EventTarget,\n  type: K,\n  handler: (event: GlobalEventHandlersEventMap[K]) => void,\n  useCapture?: boolean): DomListener;\nexport function addDisposableListener(\n  key: any,\n  el: EventTarget,\n  type: string,\n  listener: EventListener,\n  options?: boolean | AddEventListenerOptions,\n): DomListener {\n  const domListener = new DomListener(el, type, listener, options);\n  if (key) addDisposable(key, domListener);\n  return domListener;\n}\n\nexport function throttle(fn: Function, ctx?: any): any {\n  let pending = false;\n  let first = true;\n  let args: typeof arguments | null = null;\n  return function () {\n    args = arguments;\n    if (first) {\n      first = false;\n      return fn.apply(ctx, args);\n    }\n\n    if (pending) return;\n    pending = true;\n\n    requestAnimationFrame(() => {\n      fn.apply(ctx, args);\n      pending = false;\n    });\n  };\n}\n\nexport function repeatStr(str: string, t: number): string {\n  const ret = [];\n  for (let i = 0; i < t; ++i) {\n    ret.push(str);\n  }\n  return ret.join('');\n}\n\nfunction padStart(v: string | number, len = 2, str = '0'): string {\n  v = String(v);\n  if (v.length >= 2) return v;\n\n  for (let i = 0, l = len - v.length; i < l; i++) {\n    v = str + v;\n  }\n\n  return v;\n}\n\nexport function formatTime(seconds: number): string {\n  // eslint-disable-next-line no-restricted-globals\n  if (!isFinite(seconds)) return '-';\n  if (seconds <= 0) return '0:00';\n\n  seconds = Math.round(seconds);\n  if (seconds < 60) return `0:${padStart(seconds)}`;\n  if (seconds < 3600) {\n    return `${Math.floor(seconds / 60)}:${padStart(seconds % 60)}`;\n  }\n\n  return `${Math.floor(seconds / 3600)}:${padStart(\n    Math.floor((seconds % 3600) / 60),\n  )}:${padStart(seconds % 60)}`;\n}\n\nexport const internalUtils = {\n  $, clamp, addDisposableListener, addDisposable, createSvg, dispose, getEventPath, removeNode, addClass,\n};\n","const toString = Object.prototype.toString;\n\nexport function isString(o: any): o is string {\n  return typeof o === 'string' || o instanceof String;\n}\n\nexport function isBool(o: any): o is boolean {\n  return o === true || o === false || (toString.call(o) === '[object Boolean]');\n}\n\nexport function isFunction(o: any): o is Function {\n  return typeof o === 'function';\n}\n\nexport function isNumber(o: any): o is number {\n  return typeof o === 'number' || (toString.call(o) === '[object Number]');\n}\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".nplayer{--theme-color:#007aff;--poster-bg-color:transparent;--progress-bg:#007aff;--volume-progress-bg:#007aff;--safe-area-inset-bottom:$control_bottom;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;align-items:center;background:#000;color:#fff;display:flex;font-family:-apple-system,BlinkMacSystemFont,Microsoft YaHei;height:100%;justify-content:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;z-index:auto}@supports(padding-bottom:constant(safe-area-inset-bottom)){.nplayer{--safe-area-inset-bottom:max(8px,constant(safe-area-inset-bottom))}}@supports(padding-bottom:env(safe-area-inset-bottom)){.nplayer{--safe-area-inset-bottom:max(8px,env(safe-area-inset-bottom))}}.nplayer *{box-sizing:content-box}.nplayer_control{z-index:10}.nplayer_control_bg{z-index:9}.nplayer_poster{z-index:20}.nplayer_loading{z-index:30}.nplayer_contextmenu{z-index:40}.nplayer_toast{z-index:50}.nplayer:focus{outline:none}.nplayer_flex{display:flex}.nplayer_align-center{align-items:center}.nplayer-web-full{bottom:0;left:0;position:fixed;right:0;top:0;z-index:99999}.nplayer-web-full .nplayer_control{padding-bottom:var(--safe-area-inset-bottom)}.nplayer-loading .nplayer_loading{display:block}.nplayer_icon{fill:#fff;height:28px;width:28px}.nplayer_video{max-height:100%;outline:none;touch-action:none;width:100%}.nplayer_spacer{flex:1}.nplayer_tooltip{cursor:pointer;padding:3px;position:relative;transition:background .2s ease}@media not all and (hover:none){.nplayer_tooltip:hover{background:var(--theme-color)}.nplayer_tooltip:hover .nplayer_tooltip_content{opacity:1;transform:translate(-50%)}.nplayer_tooltip:hover .nplayer_tooltip-left,.nplayer_tooltip:hover .nplayer_tooltip-right{transform:translate(0)}}.nplayer_tooltip_content{background:rgba(0,0,0,.7);bottom:100%;font-size:12px;left:50%;margin-bottom:10px;opacity:0;padding:5px 10px;pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap}.nplayer_tooltip-left{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.nplayer_tooltip-right{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.nplayer_tooltip-bottom{bottom:auto;margin-bottom:0;margin-top:10px;top:100%;transform:translate(-50%,-10px) scale(.8)}.nplayer_tooltip-bottom.nplayer_tooltip-left,.nplayer_tooltip-bottom.nplayer_tooltip-right{transform:translateY(-10px) scale(.8)}.nplayer_popover{pointer-events:none}.nplayer_popover-active{pointer-events:auto}.nplayer_popover-active .nplayer_popover_panel{opacity:1;transform:translateY(0)}.nplayer_popover_panel{background:rgba(0,0,0,.7);bottom:100%;box-shadow:0 1px 20px 1px rgba(0,0,0,.2);font-size:14px;margin-bottom:5px;opacity:0;overflow:hidden;padding:3px 0;position:absolute;right:0;transform:translateY(10px);transition:opacity .2s ease,transform .2s ease,height .2s cubic-bezier(.4,0,.2,1),width .2s cubic-bezier(.4,0,.2,1);white-space:nowrap;z-index:2}.nplayer_popover_panel-bottom{bottom:auto;margin-bottom:0;margin-top:5px;top:100%;transform:translateY(-10px)}.nplayer_popover_panel-left{left:0;right:auto}.nplayer_popover_mask{bottom:0;left:0;position:fixed;right:0;top:0;z-index:1}.nplayer_switch{background:rgba(255,255,255,.3);border-radius:10px;cursor:pointer;display:inline-block;padding:2px;transition:background-color .3s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30px}.nplayer_switch:after{background:#fff;border-radius:50%;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);content:\\\"\\\";display:block;height:15px;transition:transform .15s cubic-bezier(.4,0,.2,1);width:15px}.nplayer_switch-active{background:var(--theme-color)}.nplayer_switch-active:after{transform:translateX(16px)}.nplayer_loading{display:none;height:70px;left:50%;pointer-events:none;position:absolute;top:50%;transform:translate(-50%,-50%);width:70px}.nplayer_loading i{-webkit-animation:nplayer-loading 1s linear infinite;animation:nplayer-loading 1s linear infinite;background-color:#fff;border-radius:50%/20%;height:25%;left:44.5%;opacity:.25;position:absolute;top:37%;width:5px}.nplayer_loading i:first-child{-webkit-animation-delay:0s;animation-delay:0s;transform:rotate(-150deg) translateY(-150%)}.nplayer_loading i:nth-child(2){-webkit-animation-delay:.0833s;animation-delay:.0833s;transform:rotate(-120deg) translateY(-150%)}.nplayer_loading i:nth-child(3){-webkit-animation-delay:.1666s;animation-delay:.1666s;transform:rotate(-90deg) translateY(-150%)}.nplayer_loading i:nth-child(4){-webkit-animation-delay:.2499s;animation-delay:.2499s;transform:rotate(-60deg) translateY(-150%)}.nplayer_loading i:nth-child(5){-webkit-animation-delay:.3332s;animation-delay:.3332s;transform:rotate(-30deg) translateY(-150%)}.nplayer_loading i:nth-child(6){-webkit-animation-delay:.4165s;animation-delay:.4165s;transform:rotate(0deg) translateY(-150%)}.nplayer_loading i:nth-child(7){-webkit-animation-delay:.4998s;animation-delay:.4998s;transform:rotate(30deg) translateY(-150%)}.nplayer_loading i:nth-child(8){-webkit-animation-delay:.5831s;animation-delay:.5831s;transform:rotate(60deg) translateY(-150%)}.nplayer_loading i:nth-child(9){-webkit-animation-delay:.6664s;animation-delay:.6664s;transform:rotate(90deg) translateY(-150%)}.nplayer_loading i:nth-child(10){-webkit-animation-delay:.7497s;animation-delay:.7497s;transform:rotate(120deg) translateY(-150%)}.nplayer_loading i:nth-child(11){-webkit-animation-delay:.833s;animation-delay:.833s;transform:rotate(150deg) translateY(-150%)}.nplayer_loading i:nth-child(12){-webkit-animation-delay:.9163s;animation-delay:.9163s;transform:rotate(180deg) translateY(-150%)}.nplayer_toast{background:rgba(0,0,0,.7);font-size:16px;padding:3px 5px;position:absolute;white-space:nowrap}.nplayer_toast-center{left:50%;top:50%;transform:translate(-50%,-50%)}.nplayer_toast-left-top,.nplayer_toast-right-top{top:5px}.nplayer_toast-left-bottom,.nplayer_toast-left-top{left:5px}.nplayer_toast-right-bottom,.nplayer_toast-right-top{right:5px}.nplayer_toast-left-bottom,.nplayer_toast-right-bottom{bottom:60px}.nplayer_slider{cursor:pointer;display:inline-block;flex:1;margin:0 6px;padding:5px 0;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nplayer_slider_track{background:rgba(255,255,255,.3);height:4px;overflow:hidden;width:100%}.nplayer_slider_track_inner{background:var(--theme-color);height:100%;transform-origin:0 0}.nplayer_slider_stop{background:rgba(255,255,255,.7);font-size:12px;height:8px;position:absolute;top:3px;white-space:nowrap;width:3px}.nplayer_slider_stop span{left:2px;position:absolute;top:6px;transform:translateX(-50%)}.nplayer_slider_dot{background:var(--theme-color);border-radius:50%;height:13px;left:-6px;pointer-events:none;position:absolute;top:.5px;width:13px}.nplayer_checkbox{align-items:center;color:#fff;cursor:pointer;display:inline-flex;font-size:12px;position:relative;transition:color .2s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nplayer_checkbox:before{border:1px solid;border-radius:2px;content:\\\"\\\";display:block;height:1em;margin-right:5px;transition:background .2s ease;width:1em}.nplayer_checkbox:after{border:1px solid #fff;border-left:0;border-top:0;content:\\\"\\\";height:7px;left:.5em;opacity:0;position:absolute;top:50%;transform:translate(-30%,-70%) rotate(45deg);width:4px}.nplayer_checkbox:hover{color:var(--theme-color)}.nplayer_checkbox-active:before{background:var(--theme-color);border-color:var(--theme-color)}.nplayer_checkbox-active:after{opacity:1}.nplayer_poster{background-color:var(--poster-bg-color);background-position:50% 50%;background-repeat:no-repeat;background-size:cover;bottom:0;left:0;position:absolute;right:0;top:0}.nplayer_poster_play{cursor:pointer;height:50px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:50px}.nplayer_control{bottom:0;left:0;padding:0 5px 8px;position:absolute;right:0;transition:opacity .2s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nplayer_control-hide{opacity:0;pointer-events:none}.nplayer_control:hover{cursor:default!important;opacity:1!important;pointer-events:auto!important}.nplayer_control:hover~.nplayer_control_bg{opacity:1!important}.nplayer_control_bg{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") repeat-x bottom;bottom:0;height:100px;left:0;pointer-events:none;position:absolute;right:0;transition:opacity .2s ease}.nplayer_control_bg-hide{opacity:0}.nplayer_control_bar{align-items:center;display:flex;font-size:0}.nplayer_control_bar-top{left:0;padding-top:5px;position:absolute;right:0;top:0;transition:opacity .2s ease;z-index:10}.nplayer_control_bar-hide{opacity:0;pointer-events:none}.nplayer_control_bar>div{margin:0 3px}.nplayer_control_time{font-size:13px;white-space:nowrap}.nplayer_control_time-live{align-items:center;display:flex}.nplayer_control_time-live:before{background:var(--theme-color);border-radius:50%;content:\\\"\\\";display:block;height:10px;margin-right:5px;margin-top:2px;width:10px}.nplayer_control_time :first-child:after{content:\\\"/\\\";display:inline-block;font-size:12px;margin:0 5px;transform:translateY(-.5px)}.nplayer_control_volume{position:relative;z-index:1}.nplayer_control_volume-ver .nplayer_control_volume_bars{bottom:100%;left:0;right:0}.nplayer_control_volume-hor .nplayer_control_volume_bars{bottom:0;left:100%;top:0}.nplayer_control_volume_bars{background:rgba(255,255,255,.3);font-size:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;transition:opacity .2s ease}.nplayer_control_volume:hover .nplayer_control_volume_bars{opacity:1;pointer-events:auto}.nplayer_control_volume_bar{background:var(--volume-progress-bg);height:100%;transform:scaleX(0) scaleY(0);transform-origin:0 100%;width:100%;will-change:transform}.nplayer_control_setting .nplayer_icon{transition:transform .2s ease}.nplayer_control_setting-active{background:var(--theme-color)}.nplayer_control_setting-active .nplayer_icon{transform:rotate(90deg)}.nplayer_control_setting_item,.nplayer_control_setting_option{align-items:center;display:flex;padding:5px 8px}.nplayer_control_setting_item:hover,.nplayer_control_setting_option:hover{background:rgba(255,255,255,.2)}.nplayer_control_setting_item{justify-content:space-between}.nplayer_control_setting_item>:first-child{margin-right:20px}.nplayer_control_setting_item-select:after{border:4px solid transparent;border-left-color:#fff;content:\\\"\\\";display:block;height:0;margin-left:10px;width:0}.nplayer_control_setting_option:before{border-bottom:1px solid #fff;border-right:1px solid #fff;content:\\\"\\\";display:inline-block;height:12px;margin-left:6px;margin-right:17px;opacity:0;transform:rotate(45deg);width:5px}.nplayer_control_setting_option-active:before{opacity:1}.nplayer_control_setting_back{border-bottom:1px solid rgba(255,255,255,.2);justify-content:flex-start;padding-right:20px}.nplayer_control_setting_back:before{border:4px solid transparent;border-right-color:#fff;content:\\\"\\\";display:block;height:0;margin-right:21px;width:0}.nplayer_contextmenu{background:rgba(0,0,0,.7);font-size:14px;left:0;padding:3px 0;position:absolute;top:0}.nplayer_contextmenu_item{align-items:center;cursor:pointer;display:flex;justify-content:space-between;padding:5px 8px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.nplayer_contextmenu_item:hover{background:rgba(255,255,255,.2)}.nplayer_contextmenu_item-disabled{color:rgba(255,255,255,.5)}.nplayer_contextmenu_item-disabled:hover{background:transparent}.nplayer_contextmenu_item-checked:after{border-bottom:1px solid #fff;border-right:1px solid #fff;content:\\\"\\\";display:inline-block;height:12px;margin:0 2px 5px;transform:rotate(45deg);width:5px}.nplayer_progress{cursor:pointer;flex:1;padding:5px 0;position:relative}.nplayer_progress_bars{background:rgba(255,255,255,.3);height:4px;overflow:hidden;position:relative;touch-action:none;transition:height .12s ease}.nplayer_progress_dot{left:0;pointer-events:none;position:absolute;top:50%;transform:translateY(-50%);transition:opacity .2s ease}.nplayer_progress_dot>:first-child{transform:translate(-50%)}.nplayer_progress_dot_inner{background:var(--theme-color);border-radius:50%;height:13px;width:13px}@media not all and (hover:none){.nplayer_progress_dot{opacity:0}.nplayer_progress:hover .nplayer_progress_dot{opacity:1}}.nplayer_progress_buf,.nplayer_progress_played{bottom:0;left:0;position:absolute;right:0;top:0;transform:scaleX(0);transform-origin:0 0}.nplayer_progress_played{background:var(--progress-bg);will-change:transform}.nplayer_progress_buf,.nplayer_progress_hover{background:rgba(255,255,255,.5)}.nplayer_progress_hover{opacity:0}.nplayer_progress:hover .nplayer_thumb{display:block}.nplayer_thumb{bottom:20px;display:none;font-size:12px;left:0;pointer-events:none;position:absolute;text-align:center;text-shadow:0 0 2px rgba(0,0,0,.3)}.nplayer_thumb_img{background-color:rgba(255,255,255,.5);background-repeat:no-repeat;border:1px solid #fff;box-shadow:0 0 10px rgba(0,0,0,.1)}.nplayer_thumb_time{background:rgba(0,0,0,.7);border-radius:3px;display:inline-block;margin-top:5px;padding:2px 5px 3px}@-webkit-keyframes nplayer-loading{0%{opacity:.85}50%{opacity:.25}to{opacity:.25}}@keyframes nplayer-loading{0%{opacity:.85}50%{opacity:.25}to{opacity:.25}}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var _i = 0; _i < this.length; _i++) {\n        var id = this[_i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i2 = 0; _i2 < modules.length; _i2++) {\n      var item = [].concat(modules[_i2]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  }\n\n  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (i) {\n  return i[1];\n};","\n    var isBrowser = typeof window !== 'undefined' && window.document\n    var el;\n\n    function insert() {\n      var style = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!./index.scss\");\n      if (style.__esModule) style = style.default\n      var css = typeof style === 'string' ? style : style[0][1]\n      var create = false\n      if (!el) {\n        el = document.createElement('style')\n        el.setAttribute('type', 'text/css')\n        create = true\n      }\n\n      if ('textContent' in el) {\n        el.textContent = css\n      } else {\n        el.styleSheet.cssText = css\n      }\n\n      if (create) document.head.appendChild(el)\n    }\n\n    if (isBrowser) insert()\n\n    if (module.hot && isBrowser) {\n      module.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[3]!./index.scss\", function() {\n        insert()\n      });\n      module.hot.dispose(function() {\n        if (el) el.parentNode.removeChild(el)\n      });\n    }\n  ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function"],"names":["root","factory","exports","module","define","amd","this","classActive","Checkbox","container","opts","html","el","innerHTML","change","checked","v","Slider","stop","ev","isHeightGtWidth","rect","x","clientY","y","clientX","update","height","width","trackEl","appendChild","$","stops","forEach","s","undefined","style","left","value","dotEl","onDrag","preventDefault","step","trigger","c","closed","Infinity","Math","abs","w","transform","classBottom","Popover","onHide","maskEl","panelEl","applyPanelStyle","stopPropagation","includes","hide","Object","assign","activeClass","Switch","toggle","classLeft","classRight","Tooltip","CLASS_PREFIX","CLASS_PLAYER","EVENT","ENTER_FULLSCREEN","EXIT_FULLSCREEN","WEB_ENTER_FULLSCREEN","WEB_EXIT_FULLSCREEN","DURATION_CHANGE","RATE_CHANGE","AFTER_INIT","PLAY","PAUSE","ENDED","WAITING","STALLED","CANPLAY","LOADED_METADATA","ERROR","SEEKED","TIME_UPDATE","VOLUME_CHANGE","PROGRESS","ENTER_PIP","EXIT_PIP","LOADING_SHOW","LOADING_HIDE","MOUNTED","UPDATE_SIZE","BEFORE_DISPOSE","UPDATE_OPTIONS","OPEN_EDGE","CONTROL_SHOW","CONTROL_HIDE","CONTROL_ITEM_UPDATE","BP_CHANGE","CLASS_FULL","Fullscreen","player","getPrefix","isActive","exit","enter","document","prefix","evt","addClass","removeClass","emit","on","disableDblclick","setTarget","isTouch","enableDblclick","exitFullscreen","p","HTMLElement","prototype","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","HTMLDocument","webkitExitFullscreen","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","fullscreenElement","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","target","video","addEventListener","removeEventListener","dom","webkitEnterFullscreen","call","navigationUI","off","data","create","FULL_SCREEN","EXIT_FULL_SCREEN","WEB_FULL_SCREEN","WEB_EXIT_FULL_SCREEN","SETTINGS","MUTE","UNMUTE","NORMAL","SPEED","PIP","LOOP","VOLUME","AIRPLAY","LIVE","I18n","defaultLang","currentLang","t","key","lang","add","transData","toLowerCase","fallback","keys","k","split","setCurrentLang","navigator","language","userLanguage","setDefaultLang","createIcon","icon","cls","svg","Icon","registerIcon","iconName","defineProperty","editableTagNames","Shortcut","enable","altKey","ctrlKey","metaKey","shiftKey","focused","activeElement","tag","tagName","editable","getAttribute","indexOf","code","keyCode","which","handled","map","control","showTransient","showVolume","toast","show","round","volume","register","fullscreen","webFullscreen","rewind","seekStep","incVolume","forward","decVolume","handler","disable","onKeyDown","classFull","WebFullscreen","ContextMenu","items","item","init","contextMenuToggle","showed","renderItems","window","innerWidth","innerHeight","top","applyStyle","filter","invisible","disabled","click","getDomNodes","length","textContent","frag","createDocumentFragment","display","spacerControlItem","id","ControlBar","position","tooltip","getItem","mounted","resetPos","setBottom","tip","dispose","initControlItem","prevItems","push","updateTooltipPos","spacer","getControlItem","isSupport","last","i","setLeft","setRight","nextItems","mount","unmount","onHideControlItem","classHide","classBgHide","classBarHide","Control","matched","controls","find","bp","currentBp","updateItems","bgElement","controlBars","cursor","clearTimeout","showTimer","setTimeout","tryHide","delayHidTime","played","paused","latch","bpControls","Number","sort","a","b","emitAndUpdateBp","toFilter","Map","set","get","index","curBar","barItems","getItems","bar","setItems","filterItems","classLoading","Loading","loadingEl","startWaitingTime","currentTime","_checkCanplay","tryShow","curTime","eachBuffer","start","end","checkCanplay","ToastItem","timer","Toast","timeout","toastItem","toasts","close","bind","classOptionActive","Setting","type","_switch","renderOptions","showOptionPage","_optionEl","option","renderHome","showHomePage","popover","homeEl","currentOptionEl","__settingItems","willChange","probeEl","probeElStyle","zIndex","opacity","setPos","_selectedEl","options","opt","selectedHtml","onItemClick","back","_optionEls","onOptionClick","getBoundingClientRect","hGtw","Play","pauseIcon","playIcon","_","onPause","onPlay","Volume","onDragging","isVer","muted","mute","unmute","volumeVertical","volumeIcon","mutedIcon","bars","len","volumeBarLength","onVolumeChange","onDragStart","toggleVolume","Time","live","playedEl","totalEl","total","duration","exitIcon","enterIcon","Airplay","availability","webkitShowPlaybackTargetPicker","WebKitPlaybackTargetAvailabilityEvent","Thumbnail","startSecond","gapSecond","col","row","images","updateOptions","timeEl","seconds","max","ssGapRatio","url","thumbImgPrePic","imgEl","maxX","thumb","getCurrentThumb","backgroundImage","backgroundPosition","half","Progress","dragging","setPlayedBarLength","updateThumbnail","seek","getCurrentTime","buffered","setBufBarLength","percentage","bufBar","playedBar","dot","progressDot","thumbnail","onDragEnd","updatePlayedBar","updateBufBar","playing","resetPlayedBar","trans","from","to","fn","transThrottle","setCssVariables","themeColor","setProperty","progressBg","posterBgColor","volumeProgressBg","setVideoSources","source","createElement","setAttribute","storageVolumeKey","registerNamedMap","registerContextMenuItem","loop","loaded","pictureInPictureElement","requestPictureInPicture","exitPictureInPicture","registerSettingItem","rate","playbackRate","l","registerControlItem","transferEvent","dis","d","changed","tryEmitUpdateSize","ResizeObserver","ro","observe","disconnect","Poster","tryToPlayed","onTimeUpdate","poster","playEl","posterPlayEl","posterEnable","pause","loading","play","addTimeUpdateHandler","Touch","touches","videoTouched","showControlTimer","dragged","distance","startX","seekTime","durationStr","onTouchStart","onTouchMove","onTouchEnd","Player","Set","res","shortcut","volumeStep","settings","contextMenus","openEdgeInIE","videoProps","preload","playsinline","maxTouchPoints","msMaxTouchPoints","Boolean","newBpControls","isNaN","Array","isArray","processOptions","location","URL","i18n","tabindex","src","setVideoAttrs","videoSources","parseFloat","localStorage","error","setVideoVolumeFromLocal","touch","plugins","plugin","use","contextmenu","contextmenuNamedMap","settingNamedMap","time","autoSeekTime","load","enableClickPause","readyState","setItem","String","saveVideoVolume","ended","has","apply","removeChild","prevVolume","controlNamedMap","removeAllListeners","components","Component","desc","attrs","children","classPrefix","isBrowser","isIOS","test","platform","isIE","userAgent","isWin10IE","SELECTOR_REGEX","match","exec","className","replace","trim","name","is","getEl","querySelector","removeNode","node","remove","parentNode","classList","oldCls","baseVal","join","containClass","contains","toggleClass","force","svgNS","createSvg","viewBox","createElementNS","path","setAttributeNS","getEventPath","composedPath","thirdOptsSupported","e","DomListener","measureElementSize","clone","cloneNode","removeAttribute","parent","body","Drag","move","setPointerCapture","pointerId","moveHandler","lastEv","pending","requestAnimationFrame","handlerMove","releasePointerCapture","downHandler","upHandler","Rect","tryUpdate","newRect","ret","EE","context","once","EventEmitter","_events","_eventsCount","a1","a2","a3","a4","a5","args","listeners","arguments","j","TypeError","listener","event","clearEvent","events","isSameNode","unmountNode","mountOrMove","anchor","op","insertBefore","lis","arr","m","lo","hi","mid","patch","prevNodes","nextNodes","prevEnd","nextEnd","startIndex","prevNode","nextNode","toPatch","idMap","moved","prevPos","nextIndex","incSeq","propMap","multiple","selected","setAttr","patchProps","prevProps","nextProps","prev","next","prevStyle","nextStyle","patchStyles","clamp","n","lower","upper","min","disposableMap","addDisposable","disposable","delete","addDisposableListener","domListener","throttle","ctx","first","repeatStr","str","padStart","formatTime","isFinite","floor","internalUtils","toString","isString","o","isBool","isFunction","isNumber","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","cssWithMappingToString","list","content","needLayer","concat","modules","media","dedupe","supports","layer","alreadyImportedModules","_i","_i2","__esModule","default","slice","hash","needQuotes","css","styleSheet","cssText","head","insert","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","enumerable","obj","prop","hasOwnProperty","r","Symbol","toStringTag","baseURI","self","href"],"sourceRoot":""}